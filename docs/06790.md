# å…„å¼Ÿå§å¦¹äº¤æµçš„æ— å†—ä½™ç­–ç•¥

> åŸæ–‡:[https://dev . to/sarathsantoshdamaraju/no-redux-strategy-for-siblings-communication-52ed](https://dev.to/sarathsantoshdamaraju/no-redux-strategy-for-siblings-communication-52ed)

[![](img/317df9eefba637e9af079ae8e7c6c98e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--x1oXAgNE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/1%2AW_QA-TIucxHOklD0ZUIrZQ.png)

Redux å¾ˆæ£’ï¼Œä½†åœ¨ä½¿ç”¨ä»»ä½•æ¡†æ¶æˆ–åº“ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹Ÿå¿…é¡»äº†è§£åŸºç¡€çŸ¥è¯†ï¼Œå¯¹å—ï¼Ÿè¿™å°±æ˜¯æˆ‘åœ¨å­¦ä¹  bootstrap ä¹‹å‰æ‰€åšçš„ï¼Œå¹¶ä¸”ç”¨ Redux å’Œ ReactJs åšäº†åŒæ ·çš„äº‹æƒ…ã€‚æ‰€ä»¥ï¼Œè¿™ç¯‡æ–‡ç« æ˜¯å…³äºä»…ä»…ä½¿ç”¨ ReactJs å»ºç«‹åŸºæœ¬çš„é€šä¿¡é€šé“ b/w å…„å¼Ÿçš„ã€‚

è®©æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹éœ€æ±‚ï¼Œ*æˆ‘çš„åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªå­ç»„ä»¶ï¼Œå®ƒå¿…é¡»ä¸å®ƒçš„å…„å¼Ÿç»„ä»¶*é€šä¿¡ã€‚å› æ­¤ï¼Œå®ƒå¿…é¡»é€šè¿‡ä¸€ä¸ªä»**çˆ¶èŠ‚ç‚¹åˆ°** **å­èŠ‚ç‚¹ 1** çš„å›è°ƒæ–¹æ³•å‘ç”Ÿï¼Œè¯¥å›è°ƒæ–¹æ³•å°†ä»å­èŠ‚ç‚¹ 1 è·å–å€¼ï¼Œå¹¶å°†**å°†å…¶ä½œä¸ºé“å…·ä¼ é€’ç»™å¦ä¸€ä¸ªå­èŠ‚ç‚¹**ã€‚

å¾ˆç®€å•ï¼Œä¸æ˜¯å—ï¼Ÿ

### æ•°æ®æµ

<figure>[![](img/e24b947f85ddd831b489d827fb0fb499.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Pl8O0XdU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1024/0%2A7HiCeD2uqenE8WZ8.png) 

<figcaption>æ•°æ®é€šä¿¡æµç¨‹</figcaption>

</figure>

### æµé‡

Req: **Child1** æœ‰ä¸€ä¸ªè¾“å…¥å­—æ®µï¼Œè¾“å…¥å€¼å¿…é¡»é€šè¿‡çˆ¶èŠ‚ç‚¹å‘é€åˆ° **child2** ç»„ä»¶

### çˆ¶ç»„ä»¶

é¦–å…ˆï¼Œ**åœ¨çˆ¶**ä¸­å®šä¹‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå¹¶å°†å…¶ä½œä¸ºé“å…·å‘é€ç»™å­ 1

```
constructor(){ super(); this.state= { data : "" } }

formChild1(params) { this.setState({ data : params }) } 
```

æˆ‘å·²ç»è®¾ç½®äº†ä¸€ä¸ª**çŠ¶æ€**å˜é‡*æ•°æ®*ï¼Œå¹¶ä½¿ç”¨æ¥è‡ª Child1 çš„å›è°ƒå‡½æ•°**æ›´æ–°å…¶å€¼ï¼Œå¹¶å°†çŠ¶æ€å€¼å‘é€ç»™ Child2ã€‚*ä¸ºä»€ä¹ˆä½¿ç”¨çŠ¶æ€ï¼Ÿå› ä¸ºé“å…·æ˜¯ä¸å¯å˜çš„ï¼Œå°†çŠ¶æ€ä½œä¸ºé“å…·ä¼ é€’æ€»æ˜¯æ›´å¥½ã€‚å¦‚æœä½ æƒ³ä¼ é€’é™æ€æ•°æ®ï¼Œæ€»æ˜¯ä½¿ç”¨é“å…·ã€‚ä½¿ç”¨çŠ¶æ€ä¼ é€’åŠ¨æ€æ•°æ®ã€‚*** 

```
render() { return( \<div\> \<p\>Parent\</p\> \<Child callback={this.formChild1.bind(this)} /\> \<Child2 data={this.state.data} /\> \</div\> ); } 
```

### å­-1

å®‰è£…é“å…·ç±»å‹ï¼Œå› ä¸º**æœ‰ååº”ã€‚PropTypes** è¢«å¼ƒç”¨ï¼ŒReact å»ºè®®æ‚¨ä½¿ç”¨ prop-typesã€‚[äº†è§£æ›´å¤š](https://facebook.github.io/react/docs/typechecking-with-proptypes.html)

```
npm install prop-types 
```

**å°†é“å…·ç±»å‹å¯¼å…¥å­ 1**

```
import PropTypes from 'prop-types'; 
```

å®šä¹‰å­ç»„ä»¶

```
class Child1 extends Component {

getContent(event) { this.props.callback(event.target.value); }

render() { return ( \<div\> \<p\>Child One\</p\> \<input type="text" onChange={this.getContent.bind(this)} placeholder="Type Something in Child One"/\> \</div\> ); } } 
```

**getContent** è·å–è¾“å…¥å€¼***onChange****ä¼šé€šè¿‡å›è°ƒå‡½æ•°*å‘é€ç»™ parentã€‚

ä¸ºå­©å­ 1 :
å®šä¹‰**é“å…·ç±»å‹**

```
Child1.protoTypes = { callback : PropTypes.func, } 
```

æˆ‘ä»¬æ­£åœ¨å¯¹å›è°ƒå‡½æ•°è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚

### å­-2

å®šä¹‰ä¸€ä¸ªç®€å•çš„ç»„ä»¶ï¼Œè¯¥ç»„ä»¶ä½¿ç”¨ä»çˆ¶å‘é€ç»™å®ƒçš„**å±æ€§**å€¼*æ¥å‘ˆç°*

*æ ‡ç­¾ã€‚* 

```
class Child2 extends Component {

render() { return( \<p\>Child2 : {this.props.data}\</p\> ); }

} 
```

å°±æ˜¯è¿™æ ·ã€‚æˆ‘ä»¬ç°åœ¨å·²ç»*å»ºç«‹äº†å…„å¼Ÿå§å¦¹ä¹‹é—´çš„æ²Ÿé€šæ¸ é“*ã€‚**å’Œ** **å¦‚æœä½ æœ‰å•ç‹¬çš„çˆ¶æ–‡ä»¶ã€å­æ–‡ä»¶ 1 å’Œå­æ–‡ä»¶ 2** ï¼Œä¸è¦å¿˜è®°å¯¼å‡ºå­ç»„ä»¶ã€‚

> è¯·å‚è€ƒ[ä»£ç ](http://github.com/SarathSantoshDamaraju/reactComponentsTalk/blob/siblingToSibling)

æœ€åï¼Œ

<figure>[![](img/647e695883d2dc465f772dbf19ceb924.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--DxY_v4lR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/568/1%2AFKucqDjCP8gb3lVoBeh8xw.png) 

<figcaption>ç‰¢è®°åœ¨å¿ƒï¼ï¼ï¼</figcaption>

</figure>

> æ„Ÿè°¢æ‚¨é˜…è¯»æˆ‘çš„å¸–å­ã€‚æˆ‘æƒ³åœ¨è¯„è®ºä¸­å¬åˆ°ä½ çš„æƒ³æ³•ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·ç‚¹å‡»ğŸ’šä¸‹é¢ï¼Œä»¥ä¾¿æ›´å¤šçš„äººå¯ä»¥é˜…è¯»å®ƒã€‚

* * *