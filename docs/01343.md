# ç”¨ TestCafe è¿›è¡Œ E2E æµ‹è¯•|ç®€ä»‹

> åŸæ–‡:[https://dev.to/chrisvasqm/e2e-testing-with-testcafe-17jl](https://dev.to/chrisvasqm/e2e-testing-with-testcafe-17jl)

## è­¦å‘Š

#### è¿™å°†æ˜¯ä¸€ç¯‡ looong å¸–å­ã€‚æ‰€ä»¥ï¼Œæ‹¿æ¯å’–å•¡/èŒ¶ï¼ŒæŠ“ç´§æ—¶é—´ï¼

## ç®€ä»‹

### ä»€ä¹ˆæ˜¯ E2Eï¼Ÿ

ç«¯åˆ°ç«¯(E2E)æµ‹è¯•æ˜¯ä¸€ç§ç”¨äºæµ‹è¯•æ•´ä¸ªæµç¨‹çš„æŠ€æœ¯ï¼Œå°±åƒæˆ‘ä»¬æ˜¯ä¸€ä¸ªçœŸå®çš„ç”¨æˆ·ä¸€æ ·ï¼Œé€šè¿‡æ¨¡æ‹Ÿä»–ä»¬çš„è¡Œä¸º(ç‚¹å‡»ã€æŒ‰ç‰¹å®šçš„é”®ã€åœ¨å­—æ®µä¸­é”®å…¥ç­‰ç­‰)ã€‚

è¿™å¯¹æµ‹è¯•äººå‘˜æ¥è¯´éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºéšç€é¡¹ç›®çš„å¢é•¿ï¼Œè¦æµ‹è¯•çš„åœºæ™¯æ•°é‡ä¹Ÿåœ¨å¢åŠ ï¼Œè®©äººç±»åšæ‰€æœ‰çš„å·¥ä½œä¼šå¯¼è‡´ä»–ä»¬å› ä¸ºåˆ†å¿ƒæˆ–ç–²åŠ³è€Œå¿½ç•¥/é”™è¿‡ä¸€äº›äº‹æƒ…ã€‚

æ­¤å¤–ï¼Œè¿™äº›æµ‹è¯•å¯ä»¥è¢«é…ç½®ä¸ºåœ¨ä¸€ä¸ª`Continuous Integration` (CI)ç³»ç»Ÿä¸Šè¿è¡Œï¼Œè¯¥ç³»ç»Ÿå¯ä»¥æ¯éš” X æ—¶é—´æˆ–è€…åœ¨éƒ¨ç½²ä¹‹åæ‰§è¡Œæ‰€æœ‰çš„æµ‹è¯•ã€‚ä½†è¿™æ˜¯å¦ä¸€ç¯‡æ–‡ç« çš„ä¸»é¢˜:)

### ä»€ä¹ˆæ˜¯ TestCafeï¼Ÿ

TestCafe æ˜¯ä¸€ä¸ªåŸºäº NodeJS çš„ E2E æµ‹è¯•å·¥å…·ï¼Œéå¸¸å®¹æ˜“å®‰è£…å’Œä½¿ç”¨ï¼Œæ”¯æŒ JavaScript å’Œ TypeScriptã€‚

## è¦æ±‚

### å®‰è£… NodeJS

è¿™å¯ä»¥é€šè¿‡ä»–ä»¬çš„[ç½‘ç«™](https://nodejs.org/en/download/)æˆ–è€…é€šè¿‡ä½ çš„æ“ä½œç³»ç»Ÿçš„ç»ˆç«¯/å‘½ä»¤è¡Œæ¥å®Œæˆ(æ­¥éª¤ä¼šå› ä½ çš„æ“ä½œç³»ç»Ÿè€Œå¼‚)ã€‚

ä¹‹åï¼Œä¸ºäº†éªŒè¯ NodeJS æ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨ç»ˆç«¯/å‘½ä»¤è¡Œä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤:

`npm -v`

ä½ åº”è¯¥èƒ½çœ‹åˆ°ç‰ˆæœ¬å·ï¼Œæˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æˆ‘çš„æ˜¯`5.6.0`ã€‚

### å®‰è£…æµ‹è¯•å’–å•¡é¦†

ç°åœ¨æˆ‘ä»¬å·²ç»å®‰è£…äº†`npm`ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤(è¿™å¯èƒ½éœ€è¦ root/admin æƒé™):

`npm install -g testcafe`

è¦ä»¥ root/admin ç”¨æˆ·çš„èº«ä»½è¿è¡Œï¼Œè¯·åœ¨ macOS æˆ–åŸºäº linux çš„æ“ä½œç³»ç»Ÿä¸­æ‰§è¡Œç›¸åŒçš„å‘½ä»¤ï¼ŒåŒæ—¶åœ¨ä¸Šè¿°å‘½ä»¤çš„å¼€å¤´æ·»åŠ `sudo`ï¼ŒWindows ç”¨æˆ·åº”è¯¥åœ¨æ‰“å¼€`cmd`æˆ–`PowerShell`æ—¶é€‰æ‹©`right click`å¹¶é€‰æ‹©`Run as administrator`ã€‚

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤çœ‹åˆ° TestCafe æ¨¡å—çš„ç‰ˆæœ¬:

`testcafe -v`

è¾“å‡ºåº”è¯¥ç±»ä¼¼äº:

```
Using locally installed version of TestCafe.
0.18.6 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

#### å¹²å¾—å¥½ï¼æˆ‘ä»¬å·®ä¸å¤šå‡†å¤‡å¥½å‡ºå‘äº†ğŸ‘¨â€ğŸ’» /ğŸ‘©â€ğŸ’»ã€‚

## é€‰æ‹©ä½ çš„æ­¦å™¨(IDE/editor)

æˆ‘å°†ä½¿ç”¨ [VS ä»£ç ](https://code.visualstudio.com/download)ä½œä¸ºæˆ‘é€‰æ‹©çš„æ­¦å™¨+ä¸€äº›æ‰©å±•(æˆ‘ç¨åå°†å±•ç¤ºå®ƒä»¬ï¼Œæˆ‘ä¹Ÿå¾ˆå…´å¥‹å¼€å§‹ç¼–ç ï¼)ä½†æ˜¯å¯ä»¥éšæ„é€‰æ‹©æ‚¨å–œæ¬¢çš„ IDE/ç¼–è¾‘å™¨ã€‚

## é¡¹ç›®ç»“æ„

æˆ‘ä»¬æœ€åˆçš„é¡¹ç›®ç»“æ„å°†æ˜¯è¿™æ ·çš„:

```
project
|
â””â”€â”€â”€ tests
     â”‚  
     â””â”€â”€â”€ devto.js 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ç¬¬ä¸€æ¬¡æµ‹è¯•

æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ä»`testcafe`æ¨¡å—ä¸­`import`ä¸€ä¸ªåä¸º`Selector`çš„ç±»ï¼Œå°±åƒè¿™æ ·:

```
import { Selector } from 'testcafe' 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª`fixture`ï¼Œç»™å®ƒä¸€ä¸ªåå­—å’Œåœ¨æ‰€æœ‰æµ‹è¯•å¼€å§‹æ—¶ä½¿ç”¨çš„`page` urlã€‚

ç¨åæ‚¨å°†çœ‹åˆ°åœ¨å“ªé‡Œä½¿ç”¨äº†`fixture`çš„åç§°ã€‚

ç°åœ¨ä½ çš„ä»£ç åº”è¯¥çœ‹èµ·æ¥åƒ:

```
import { Selector } from 'testcafe'

fixture('DEV Tests')
    .page('http://dev.to/'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬æœ‰äº†è¿™ä¸ªï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¼–å†™æµ‹è¯•ä»£ç ã€‚

ä¸ºç®€å•èµ·è§ï¼Œæˆ‘ä»¬å°†æ‰§è¡Œä»¥ä¸‹æ­¥éª¤:

*   è½¬åˆ°å¼€å‘äººå‘˜ä¸»é¡µã€‚
*   å•å‡»â€œå…³äºâ€é“¾æ¥ã€‚
*   æŸ¥æŸ¥æ¯ä¸ªåˆ›å§‹äººçš„åå­—ã€‚

## å›åˆ°ä»£å·â€”â€”æ´ç©´ï¼

ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªå¸¦ä¸¤ä¸ªå‚æ•°çš„`test`æ–¹æ³•:ä¸€ä¸ªæ˜¯æµ‹è¯•åç§°çš„`String`å€¼ï¼Œä¸€ä¸ªæ˜¯å†…éƒ¨æœ‰é€»è¾‘çš„`async`ç®­å¤´å‡½æ•°ã€‚

å¤§æ¦‚æ˜¯:

```
test("Check founder's names", async (t) => {
    // Brace yourself, the real magic goes here.
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ç”¨`async`ï¼Ÿ

è¿™å°†å…è®¸æˆ‘ä»¬åœ¨*å¹¶è¡Œ*ä¸­è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•(è¿™å¤ªæ£’äº†ï¼)åæ¥ã€‚ä½†æ˜¯ç°åœ¨ï¼Œæˆ‘ä»¬å°†åœ¨ä¸€ä¸ªæµè§ˆå™¨ä¸­è¿è¡Œæˆ‘ä»¬çš„æµ‹è¯•ã€‚

#### çœŸæ­£çš„é­”åŠ›åœ¨å“ªé‡Œï¼Ÿ

#### æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä¸Š`import``Selector`ç­ï¼Ÿ

#### ç‹ç‹¸è¯´ä»€ä¹ˆï¼Ÿ

Ssssh...å°±è®©å®ƒå‘ç”Ÿå§ã€‚

æˆ‘ä»¬ä¼šåˆ°è¾¾é‚£é‡Œ:)

æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯è·å– about é“¾æ¥çš„`selector`ã€‚

> ä¸€ä¸ª`selector`åŸºæœ¬ä¸Šæ˜¯ä¸€ç§è¯†åˆ«é¡µé¢ä¸Šä¸€ä¸ªå…ƒç´ æˆ–ä¸€ç»„å…ƒç´ çš„æ–¹æ³•ã€‚

ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘å°†ä½¿ç”¨ Chrome çš„å†…ç½®å¼€å‘å·¥å…·ã€‚å‰å¾€[å¼€å‘åˆ°](https://dev.to/)ä¸»é¡µï¼Œå‘ä¸‹æ»šåŠ¨åˆ°â€œå…³äºâ€é“¾æ¥é¡¶éƒ¨çš„`right click`ï¼Œå¹¶é€‰æ‹©`Inspect`é€‰é¡¹ã€‚

è¿™å°†æ‰“å¼€ DevTools é€‰é¡¹ï¼Œæ‚¨å¸Œæœ›å°†æ³¨æ„åŠ›é›†ä¸­åœ¨çªå‡ºæ˜¾ç¤ºçš„`<a>` HTML å…ƒç´ ä¸Šã€‚

åœ¨ DevTools é¢æ¿ä¸Šï¼Œç‚¹å‡»å…³äºé“¾æ¥çš„`<a>`ä¸Šçš„`right click`ï¼Œå¹¶é€‰æ‹©`Copy > copy selector`ã€‚è¿™å°†æŠŠ`selector`å€¼å¤åˆ¶åˆ°ä½ çš„å‰ªè´´æ¿ä¸Šã€‚

ç°åœ¨ï¼Œå›åˆ°ç¼–è¾‘å™¨ï¼Œåƒè¿™æ ·å­˜å‚¨è¿™ä¸ªå€¼:

```
const aboutLink = Selector('#sidebar-wrapper-left > div.side-bar > div.widget > div.side-footer > a:nth-child(1)'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æ‰€æœ‰çš„ä»£ç åº”è¯¥æ˜¯è¿™æ ·çš„:

```
import { Selector } from 'testcafe'

fixture('DEV Tests')
    .page('http://dev.to/');

test("Check founder's names", async (t) => {
    const aboutLink = Selector('#sidebar-wrapper-left > div.side-bar > div.widget > div.side-footer > a:nth-child(1)');
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## ä½†æ˜¯ç­‰ç­‰ï¼

è®©æˆ‘ä»¬å€Ÿæ­¤æœºä¼šä½¿ç”¨ TestCafe æä¾›ç»™æˆ‘ä»¬çš„å¦ä¸€ä¸ª*å’’è¯­*...`.withText()`æ³•ã€‚

æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™åŒæ ·çš„ä»£ç :

```
const aboutLink = Selector('a').withText('About'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

`.withText()`æ–¹æ³•é‡‡ç”¨ä¸€ä¸ª`String` `argument`ï¼Œå…¶å·¥ä½œæ–¹å¼ç±»ä¼¼äºæ‚¨å¯èƒ½ç†Ÿæ‚‰çš„`.contains()`æ–¹æ³•ã€‚å®ƒä¼šå°†å…ƒç´ çš„æ–‡æœ¬å€¼ä¸æ‚¨ä¼ å…¥çš„`argument`è¿›è¡Œæ¯”è¾ƒï¼Œåªæœ‰å½“`argument`ä¸ç»™å®šæ–‡æœ¬å€¼çš„ä»»ä½•éƒ¨åˆ†åŒ¹é…æ—¶æ‰è¿”å›`true`(æ³¨æ„:å®ƒæ˜¯åŒºåˆ†å¤§å°å†™çš„)ï¼›å¦åˆ™å°†è¿”å›`false`ã€‚

> åŒºåˆ†å¤§å°å†™æ„å‘³ç€ä¸€ä¸ªå­—æ¯çš„å¤§å†™ä½¿å®ƒä¸å¦ä¸€ä¸ªå­—æ¯ä¸åŒï¼Œå³ä½¿å®ƒä»¬å¬èµ·æ¥ä¸€æ ·ã€‚ç¤ºä¾‹:â€œtestâ€å’Œâ€œTestâ€åœ¨è¿™ç§æƒ…å†µä¸‹è¢«è®¤ä¸ºæ˜¯ä¸åŒçš„ã€‚

è®©æˆ‘ä»¬è½¬åˆ° About é¡µé¢ï¼Œæ‰¾åˆ°æˆ‘ä»¬å°†éœ€è¦ä½¿ç”¨çš„å…¶ä»–`selector`å€¼ã€‚

æˆ‘ä»¬å¯ä»¥ç”¨ *copy-pasta* çš„æ–¹å¼æ¥åšï¼Œé‡å¤æˆ‘ä»¬ç”¨ DevTools åšçš„æ‰€æœ‰æ­¥éª¤ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬æ¯”é‚£æ›´å¥½(æˆ–è€…æˆ‘ä»¬æ˜¯è¿™ä¹ˆè®¤ä¸ºçš„)ã€‚

æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬åƒåˆšåˆšå­¦çš„é‚£æ ·åšã€‚å€ŸåŠ©`withText()`æ³•çš„åŠ›é‡ã€‚

å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œè¿™æ¬¡æˆ‘ä»¬çš„`selector`ä¸æ˜¯ä¸€ä¸ª`<a>`æ ‡ç­¾ï¼Œå®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ª`<b>`æ ‡ç­¾ã€‚ä½ å¯ä»¥é€šè¿‡æ£€æŸ¥æ¯ä¸€ä¸ªåˆ›å§‹äººçš„åå­—æˆ–è€…ç›¸ä¿¡æˆ‘çš„è¯æ¥éªŒè¯è¿™ä¸€ç‚¹(å®é™…ä¸Šæˆ‘ä¸ä¼šè¿™ä¹ˆåš)ã€‚

æˆ‘ä»¬çš„ä»£ç ç°åœ¨åº”è¯¥æ˜¯è¿™æ ·çš„:

```
const aboutLink = Selector('a').withText('About');
const firstFounder = Selector('b').withText('Ben Halpern');
const secondFounder = Selector('b').withText('Jesse Lee');
const thirdFounder = Selector('b').withText('Peter Frank'); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å‰å®³ï¼

å¦‚æœæˆ‘ä»¬çœ‹æ•´ä¸ª`devto.js`æ–‡ä»¶ï¼Œåº”è¯¥æ˜¯:

```
import { Selector } from 'testcafe'

fixture('DEV Tests')
    .page('http://dev.to/');

test("Check founder's names", async(t) => {
    const aboutLink = Selector('a').withText('About');
    const firstFounder = Selector('b').withText('Ben Halpern');
    const secondFounder = Selector('b').withText('Jesse Lee');
    const thirdFounder = Selector('b').withText('Peter Frank');
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨æˆ‘ä»¬æ–°çš„é—ªäº®çš„é€‰æ‹©å™¨ï¼

ä½ å¿˜äº†æˆ‘ä»¬åœ¨æµ‹è¯•ä¸­è¦åšä»€ä¹ˆäº†å—ï¼Ÿ

æ˜¯å•Šï¼Œæˆ‘ä¹Ÿæ˜¯ã€‚ä½†æ˜¯åˆ«æ‹…å¿ƒï¼Œæˆ‘æœ‰å®¶äººï¼ğŸ˜

*   è½¬åˆ°å¼€å‘äººå‘˜ä¸»é¡µã€‚
*   å•å‡»â€œå…³äºâ€é“¾æ¥ã€‚
*   æŸ¥æŸ¥æ¯ä¸ªåˆ›å§‹äººçš„åå­—ã€‚

`.page()`æ–¹æ³•å·²ç»è¦†ç›–äº†ç¬¬ä¸€æ­¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ ‡è®°å®ƒã€‚

[x]è½¬åˆ°å¼€å‘äººå‘˜ä¸»é¡µã€‚
[ ]ç‚¹å‡»â€œå…³äºâ€é“¾æ¥ã€‚
[ ]æŸ¥æ¯ä¸€ä¸ªåˆ›å§‹äººçš„åå­—ã€‚

ä¸ºäº†ç‚¹å‡»â€œAbout Link â€,æˆ‘ä»¬éœ€è¦åœ¨æµ‹è¯•ç»“æŸæ—¶æ·»åŠ ä»¥ä¸‹ä»£ç :

```
await t
    .click(aboutLink); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¹‹åï¼Œæˆ‘ä»¬å°†å¿…é¡»æ£€æŸ¥æ˜¯å¦æ¯ä¸ªåˆ›å§‹äººå§“åæ ‡é¢˜éƒ½æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š:

```
await t
    .click(aboutLink)
    .expect(firstFounder.exists).ok()
    .expect(secondFounder.exists).ok()
    .expect(thirdFounder.exists).ok(); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è®©æˆ‘ä»¬åé€€ä¸€æ­¥ï¼ŒéªŒè¯æˆ‘ä»¬çš„`devto.js` :
ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯è¿™æ ·çš„

```
import { Selector } from 'testcafe'

fixture('DEV Tests')
    .page('http://dev.to/');

test("Check founder's names", async(t) => {
    const aboutLink = Selector('a').withText('About');
    const firstFounder = Selector('b').withText('Ben Halpern');
    const secondFounder = Selector('b').withText('Jess Lee');
    const thirdFounder = Selector('b').withText('Peter Frank');

    await t
    .click(aboutLink)
    .expect(firstFounder.exists).ok()
    .expect(secondFounder.exists).ok()
    .expect(thirdFounder.exists).ok();
}); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## è¿˜åœ¨å—ï¼Ÿ

æˆ‘å¸Œæœ›ä½ çŸ¥é“ã€‚å› ä¸ºç°åœ¨åˆ°äº†*æœ‰è¶£çš„*éƒ¨åˆ†ï¼

## è¿è¡Œæµ‹è¯•

ä¸ºäº†è¿è¡Œæµ‹è¯•ï¼Œæ‚¨éœ€è¦æ‰¾åˆ°æ‚¨çš„`devto.js`æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤:

`testcafe chrome devto.js`

> æ³¨:å¯ä»¥ç”¨è‡ªå·±å–œæ¬¢çš„æµè§ˆå™¨æ›¿æ¢`chrome`ã€‚

ç°åœ¨å¤–æ˜Ÿäººå°†æ§åˆ¶ä½ çš„ç”µè„‘ï¼Œå¼€å§‹åšä¸€äº›ç–¯ç‹‚çš„äº‹æƒ…...æ¯”å¦‚è¿è¡Œä½ çš„æµ‹è¯•ã€‚

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œæ‚¨åº”è¯¥ä¼šåœ¨æ‚¨çš„æ§åˆ¶å°ä¸Šçœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„å†…å®¹:

```
Using locally installed version of TestCafe.
 Running tests in:
 - Chrome 63.0.3239 / Mac OS X 10.13.2

 DEV Tests
 âœ“ Check founder's names

 1 passed (4s) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

## æ±ªï¼

é‚£æ˜¯ç›¸å½“å¤šçš„å·¥ä½œï¼

ä½†æ˜¯è¿˜æœ‰æ›´å¤šå¥½ä¸œè¥¿è¦å­¦ã€‚

*   åŒæ—¶ä½¿ç”¨å¤šä¸ªæµè§ˆå™¨ã€‚
*   å¹¶è¡Œè¿è¡Œæµ‹è¯•ã€‚
*   é‡æ„æˆ‘ä»¬çš„ä»£ç ä»¥ä½¿ç”¨é¡µé¢å¯¹è±¡æ¨¡å‹è®¾è®¡æ¨¡å¼ã€‚

### æˆ‘ä»¬å¯ä»¥ç»§ç»­ä¸‹ä¸€éƒ¨åˆ†:

[![chrisvasqm](img/e4a5dffbeebdbe975aabe7903c567401.png)](/chrisvasqm) [## ä½¿ç”¨ TestCafe | Pararell æ‰§è¡Œçš„ E2E æµ‹è¯•

### å…‹é‡Œæ–¯è’‚å®‰ç“¦æ–¯å¥å…¹ 1 æœˆ 15 æ—¥ 182 åˆ†é’Ÿé˜…è¯»

#testing #e2e #testcafe #javascript](/chrisvasqm/e2e-testing-with-testcafe--part-2-1lfg)