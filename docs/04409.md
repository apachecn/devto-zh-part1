# æˆ‘ä»¬æ€ä¹ˆè¿ JSï¼Ÿ(Nylas çš„ Javascript å †æ ˆçš„ç»„ä»¶)

> åŸæ–‡ï¼š<https://dev.to/nylas/how-do-we-even-js-the-components-of-nylass-javascript-stack-6h>

[![How Do We Even JS? (The Components of Nylas's Javascript Stack)](img/377a31d2e9c2ecb124cd1d628da197cb.png)T2ã€‘](https://www.nylas.com/blog/how-do-we-even-javascript)

åœ¨è¿‡å»çš„å‡ å¹´é‡Œï¼ŒJavascript ç–²åŠ³å·²ç»å˜å¾—éå¸¸æ™®éï¼Œè¿™ä½¿å¾—åœ¨æ²¡æœ‰é«˜åº¦ç„¦è™‘çš„æƒ…å†µä¸‹ä»å¤§é‡å·¥å…·å’Œæ¡†æ¶é€‰é¡¹ä¸­è¿›è¡Œé€‰æ‹©å˜å¾—éå¸¸å›°éš¾ã€‚

[![how do we even?](img/5e615e3e2d57aadcc96a61fbb8d564a0.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ClcgpbLB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://www.nylas.com/hs-fs/hubfs/giphy%2520%282%29.gif%3Ft%3D1513026317424%26width%3D600%26height%3D340%26name%3Dgiphy%2520%282%29.gif)

å¹¸è¿çš„æ˜¯ï¼Œç°åœ¨å·²ç»æ˜¯ 2017 å¹´äº†ï¼Œæ¯”æˆ‘èªæ˜çš„äººå·²ç»åšå‡ºäº†å¾ˆå¤šè¿™æ ·çš„é€‰æ‹©ã€‚

è™½ç„¶ [Nylas](https://www.nylas.com/) çš„ä¸»è¦ä»£ç åº“æ˜¯ç”¨ Python ç¼–å†™çš„ï¼Œä½†æˆ‘ä»¬å·²ç»ç”¨ Javascript æ„å»ºäº†ä¸€æ®µæ—¶é—´ï¼Œå¹¶ä¸å®ƒä¸€èµ·æˆé•¿ï¼›æˆ‘ä»¬æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä»£ç åº“ï¼Œä½ å¯ä»¥åœ¨é‚£é‡Œæ‰¾åˆ° Coffeescriptã€æ™®é€šçš„ ES5ã€ES6ã€Reactã€JSXã€ *CJSX* (æˆ‘çŸ¥é“ï¼ŒWTFï¼Ÿ)ï¼Œä»¥åŠè®¸å¤šé£æ ¼çš„ Fluxã€Redux å’ŒåŸºäºå¯è§‚å¯Ÿçš„æ¶æ„ã€‚

ä¸ç”¨è¯´ï¼Œæˆ‘ä»¬å¾ˆé«˜å…´å¼€å§‹ä¸€ä¸ªæ–°çš„ç»¿åœ°é¡¹ç›®â€”â€”[æˆ‘ä»¬ä¸ºæˆ‘ä»¬çš„ API å®¢æˆ·æ–°çš„ Nylas ä»ªè¡¨æ¿](https://www.nylas.com/blog/announcing-the-nylas-dashboard-2.0)â€”â€”å¹¶å°è¯• React ç¤¾åŒºè½¬å‘çš„æ‰€æœ‰æœ€æ–°å·¥å…·å’Œå®è·µã€‚

åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬å°†å›é¡¾æˆ‘ä»¬ä¸ºåœ¨ 2017 å¹´å¼€å§‹ä¸€ä¸ªæ–°çš„ç½‘ç»œé¡¹ç›®æ‰€åšçš„é€‰æ‹©ã€‚

*TLï¼›åšå£«:*æˆ‘ä»¬å’¬ç´§ç‰™å…³ï¼Œç”¨äº†ä¸€å †è„¸ä¹¦åˆ¶é€ çš„å·¥å…·ã€‚(ä¸ºä»–ä»¬çš„[æ–°çš„éº»çœç†å·¥å­¦é™¢ React è®¸å¯è¯æ¬¢å‘¼ï¼](https://code.facebook.com/posts/300798627056246/relicensing-react-jest-flow-and-immutable-js/))

## èŠ‚ç‚¹

ä½¿ç”¨æœ€æ–°çš„èŠ‚ç‚¹ï¼Œä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿ

```
install nvm
nvm install 8
nvm use 8 
```

Enter fullscreen mode Exit fullscreen mode

âœŒï¸

## çº±çº¿

åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»é€‰æ‹©ä¸€ä¸ªä¾èµ–ç®¡ç†å™¨ã€‚æˆ‘ä»¬ä¸€ç›´ä½¿ç”¨æ•ˆæœå¾ˆå¥½çš„ npmï¼Œä½†å‡ºäºä»¥ä¸‹å‡ ä¸ªåŸå› ï¼Œæˆ‘ä»¬å†³å®šä½¿ç”¨ yarn:

*   [é”æ–‡ä»¶](https://yarnpkg.com/lang/en/docs/yarn-lock/)ç”¨äºè·¨æœºå™¨çš„ä¸€è‡´å®‰è£…
*   [ä¼¼ä¹æ›´å¿«äº†](https://yarnpkg.com/lang/en/compare/)
*   è¾“å‡ºæœ‰è¡¨æƒ…ç¬¦å·âœ¨
*   æˆ‘ä»¬å¯ä»¥åªè¿è¡Œçº±çº¿ï¼Œè€Œä¸æ˜¯ npm å®‰è£…
*   é»˜è®¤æƒ…å†µä¸‹ï¼Œä¾èµ–é¡¹ä¿å­˜åœ¨ package.json ä¸­ï¼Œæ— éœ€æ·»åŠ `--save`æ ‡å¿—

IMO çš„æ€æ‰‹é”æ˜¯è¿è¡Œè‡ªå®šä¹‰è„šæœ¬ï¼Œè€Œä¸å¿…åœ¨è„šæœ¬å‰é¢åŠ ä¸Š runã€‚å‡è®¾æ‚¨çš„ package.json ä¸­æœ‰ä»¥ä¸‹è„šæœ¬:

```
// Your package.json
"scripts": {
  "win": "node ./scripts/win.js",
}, 
```

Enter fullscreen mode Exit fullscreen mode

è¦ä½¿ç”¨ npm è¿è¡Œè¯¥è„šæœ¬ï¼Œæ‚¨å¿…é¡»é”®å…¥:`npm run win`ã€‚ä½†æ˜¯æœ‰äº†çº±ï¼Œä½ åªéœ€è¦æ‰“å­—:`yarn win`ã€‚æ„Ÿè§‰çœŸå¥½ã€‚

(è¯·è®°ä½ï¼Œnpm v5 æ˜¯æœ€è¿‘[å‘å¸ƒçš„](http://blog.npmjs.org/post/161081169345/v500)ï¼Œå¸¦æœ‰ yarn æä¾›çš„è®¸å¤šå¥½ä¸œè¥¿ï¼Œæ¯”å¦‚é”æ–‡ä»¶ã€æ›´å¥½çš„æ€§èƒ½å’Œæ›´å¥½çš„ CLIã€‚ä½ å¯èƒ½ä¹Ÿæƒ³ç”¨å®ƒï¼)

## åˆ›å»º-ååº”-åº”ç”¨

æˆ‘ä»¬å†™ã€Šååº”ã€‹å·²ç»æœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ç»§ç»­ä½¿ç”¨å®ƒã€‚ç„¶è€Œï¼Œä»å¤´å¼€å§‹ä¸€ä¸ªä½¿ç”¨ç°ä»£ Javascript çš„ååº”é¡¹ç›®å¹¶ä¸å®¹æ˜“ï¼Œå› ä¸ºå®ƒéœ€è¦å¤§é‡çš„é…ç½®:

*   webpack(æˆ– browserifyï¼Œæˆ– rollupï¼Œæˆ– brunchï¼Œæˆ–â€¦)æ¥ç”Ÿæˆå‘å¸ƒåˆ°æµè§ˆå™¨çš„æ„å»ºã€‚è¿™æœ¬èº«å°±éœ€è¦å¤§é‡çš„é…ç½®ã€‚
*   å·´åˆ«å¡”ä¼ è¾“ä½ çš„ä»£ç ã€‚å®ƒ*ä¹Ÿ*éœ€è¦å¤§é‡çš„é…ç½®ã€‚æ­¤å¤–ï¼Œäº†è§£æ‚¨åœ¨ä»£ç ä¸­ä½¿ç”¨çš„å“ªäº› Javascript ç‰¹æ€§éœ€è¦è¢«ç¼–è¯‘ï¼Œä»¥ä¾¿å®ƒä»¬å¯ä»¥åœ¨æ‚¨æƒ³è¦æ”¯æŒçš„æµè§ˆå™¨ä¸­è¿è¡Œï¼Œç¡®ä¿æ‚¨æ ¹æ®æ‚¨çš„ç›®æ ‡æµè§ˆå™¨å¡«å……æ­£ç¡®çš„å†…å®¹(ä¾‹å¦‚ï¼ŒPromiseã€fetch)ï¼Œä»¥åŠæ›´å¤šæˆ‘ä»¬å¯èƒ½è¿˜æ²¡æœ‰æ„è¯†åˆ°çš„å†…å®¹ã€‚
*   å¯¹ä½ çš„ä»£ç è¿›è¡Œ lint
*   æ¯”æˆ‘å¯èƒ½å·²ç»å¿˜è®°çš„æ›´å¤š
*   ç„¶åæŠŠå®ƒä»¬ç»‘åœ¨ä¸€èµ·ï¼

ä½†æ˜¯ï¼Œæ­£å¦‚æˆ‘æåˆ°çš„ï¼Œç°åœ¨å·²ç»æ˜¯ 2017 å¹´äº†ï¼Œæ„Ÿè°¢ä¸Šå¸ [create-react-app](https://github.com/facebookincubator/create-react-app) çš„å­˜åœ¨ã€‚åªéœ€ä¸€ä¸ªå‘½ä»¤ï¼Œæ‚¨å°±å¯ä»¥æ­å»ºä¸€ä¸ª React åº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºé¢„é…ç½®äº† webpackã€babelã€eslintã€ä¸€ä¸ªå¯ä»¥è‡ªåŠ¨é‡æ–°åŠ è½½çš„å¼€å‘ç¯å¢ƒã€ç”Ÿæˆä¼˜åŒ–ç”Ÿäº§æ„å»ºçš„è„šæœ¬ç­‰ã€‚

```
yarn global add create-react-app
create-react-app dope-af
# âœ¨~magic~âœ¨
cd dope-af
yarn
yarn start  # Start development server
yarn build  # Create optimized production build 
```

Enter fullscreen mode Exit fullscreen mode

æ­¤å¤–ï¼Œå®ƒè¿˜é…æœ‰ä¸€ä»½å‡ºè‰²çš„[ç”¨æˆ·æŒ‡å—](https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md)ï¼Œé‡Œé¢æœ‰ä½ æƒ³åšçš„å‡ ä¹æ‰€æœ‰äº‹æƒ…çš„ä¿¡æ¯ã€‚

æ‚¨å¯ä»¥åªä½¿ç”¨ create-react-app æ¥å®Œæˆï¼Œä½†æ˜¯å¦‚æœæ‚¨éœ€è¦ä¿®æ”¹å¼€ç®±å³ç”¨çš„é…ç½®ï¼Œæ‚¨å¯ä»¥è¿è¡Œ [eject](https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md) å‘½ä»¤æ¥æ‰‹åŠ¨ç®¡ç†é…ç½®ã€‚

æˆ‘å‘ç°é»˜è®¤é…ç½®ä¸­ç¼ºå°‘äº†ä¸€äº›ä¸œè¥¿ï¼Œæ¯”å¦‚ [#2310](https://github.com/facebookincubator/create-react-app/pull/2310) ï¼Œä½†å¹¸è¿çš„æ˜¯è¿™ä¸ªç¤¾åŒºéå¸¸æ´»è·ƒï¼Œæˆ‘ç›¸ä¿¡è¿™äº›ä¸œè¥¿ä¼šè¢«åŒ…å«è¿›æ¥ï¼Œè€Œä¸å¿…é€€å‡ºã€‚

## æ˜¯

create-react-app å¼€ç®±å³ç”¨ï¼Œjest è¢«é…ç½®ä¸ºå…¶æµ‹è¯•è¿è¡Œç¨‹åºã€‚åœ¨æœ¬å¸–ä¸­ï¼Œæˆ‘ä»¬ä¸ä¼šè®¨è®ºå¦‚ä½•ä½¿ç”¨ jest ç¼–å†™æµ‹è¯•ï¼Œä½†å¯ä»¥è¯´ï¼Œè¿™æ˜¯ dope AFã€‚è¿™æ¬¡è°ˆè¯è¯´æœäº†æˆ‘ã€‚

## eslint

é€šè¿‡ create-react-appï¼Œeslint é¢„é…ç½®äº†åˆç†çš„[é»˜è®¤å€¼](https://github.com/facebookincubator/create-react-app/blob/master/packages/eslint-config-react-app/index.js)ã€‚å¦‚æœæƒ³æ‰©å±•ï¼Œåªéœ€è¦å†™ä¸€ä¸ªè‡ªå®šä¹‰å°±å¯ä»¥äº†ã€‚eslintrc æ–‡ä»¶:

```
// .eslintrc
{
  "extends": "react-app",
  "rules": [
    "prefer-const": "warn"  // custom rules
  ]
} 
```

Enter fullscreen mode Exit fullscreen mode

å½“æ‚¨è¿è¡Œ yarn start æˆ– yarn build æ—¶ï¼Œæ‚¨çš„ä»£ç å°†é»˜è®¤è¢« lintedï¼Œä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰è„šæœ¬:

```
yarn add --dev eslint@3.19.0  # Same version that create-react-app uses

// Your package.json
"scripts": {
  "lint": "eslint ./src ./scripts",
}, 
```

Enter fullscreen mode Exit fullscreen mode

## æµé‡

[flow](https://flow.org/) æ˜¯ Javascript çš„é™æ€ç±»å‹æ£€æŸ¥å™¨ã€‚æœ‰è®¸å¤šæ”¯æŒå’Œåå¯¹é™æ€ç±»å‹æ£€æŸ¥å™¨çš„è®ºç‚¹ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬åœ¨ Nylas è¿™é‡Œå‘å±•äº†ä¸€ä¸ªå·¨å¤§çš„ Javascript ä»£ç åº“ä¹‹åï¼Œç±»å‹çš„ä»·å€¼å˜å¾—è¶Šæ¥è¶Šæ˜æ˜¾ï¼Œç‰¹åˆ«æ˜¯å¯¹äºä»£ç åº“ä¸­çš„æ ¸å¿ƒæŠ½è±¡å’Œé«˜åº¦ä½¿ç”¨çš„æ¨¡å—ã€‚

ä¸€ä¸ªå¥½çš„æ–¹é¢æ˜¯ flow æ”¯æŒé€æ­¥ç±»å‹åŒ–ï¼Œè¿™æ„å‘³ç€ç±»å‹æ³¨é‡Šä¸æ˜¯åˆ°å¤„éƒ½éœ€è¦çš„ã€‚è¿™æ„å‘³ç€å¦‚æœä½ æ­£åœ¨åŸå‹åŒ–æˆ–è€…ç¼–å†™ä½ çŸ¥é“å¯èƒ½ä¼šæ”¹å˜çš„ä¸œè¥¿ï¼Œä½ ä¸éœ€è¦ä½¿ç”¨ç±»å‹ï¼Œä½†æ˜¯å¦‚æœä½ æ­£åœ¨ä½ çš„ä»£ç åº“ä¸­ç¼–å†™ä¸€ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œä½ å¯ä»¥ç”¨ç±»å‹æ¥é”å®šå®ƒã€‚

ç±»å‹å¯èƒ½æ˜¯æœ‰ç›Šçš„ï¼Œå› ä¸º:

*   å½“è¿›è¡Œå˜æ›´æˆ–é‡æ„æ—¶ï¼Œå®ƒä»¬ç»™äº†æˆ‘ä»¬æ›´å¤šçš„ä¿¡å¿ƒ
*   å®ƒä»¬ä½œä¸ºæ–‡æ¡£(ä¸ä¼šå˜å¾—é™ˆæ—§ï¼Œä¸åƒè¯„è®º)
*   å®ƒä»¬é˜²æ­¢äº†è®¸å¤šä¸å¿…è¦çš„å•å…ƒæµ‹è¯•ï¼Œæˆ‘ä»¬é€šå¸¸åªæ˜¯ä¸ºäº†æ£€æŸ¥ç±»å‹è€Œç¼–å†™è¿™äº›æµ‹è¯•

create-react-app é»˜è®¤ä¸å¯ç”¨ flowï¼Œä½†æ˜¯ï¼Œå½“ç„¶ï¼Œç”¨æˆ·æŒ‡å—æŒ‡å®šäº†[å¦‚ä½•åš](https://github.com/facebookincubator/create-react-app/blob/master/packages/react-scripts/template/README.md#adding-flow)ã€‚

åœ¨é…ç½® flow æ—¶ï¼Œæˆ‘ä»¬åšäº†ä¸€ä»¶é¢å¤–çš„äº‹æƒ…ï¼Œå°±æ˜¯å°†å®ƒæ”¹ä¸ºå°†ç±»å‹é”™è¯¯æŠ¥å‘Šä¸º eslint é”™è¯¯:

```
yarn add --dev eslint-plugin-flowtype-errors

// Your .eslintrc
{
  "extends": [
    "react-app"
  ],
  "plugins": [
    "flowtype-errors"
  ],
  "rules": {
    "flowtype-errors/show-errors": 2,
    "prefer-const": "warn"
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

è¿™å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå¦‚æœæ‚¨å·²ç»åœ¨ç¼–è¾‘å™¨ä¸­é…ç½®äº† eslintï¼Œå°±ä¸éœ€è¦é¢å¤–çš„ç¼–è¾‘å™¨é›†æˆæ¥æ”¯æŒ flowã€‚å®ƒä¹Ÿé€‚ç”¨äºæ‚¨å·²ç»ç”¨ eslint é…ç½®çš„å…¶ä»–å·¥å…·ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åœ¨ Nylas ä½¿ç”¨ Phabricator è¿›è¡Œä»£ç å®¡æŸ¥ï¼Œå¹¶ä¸”æˆ‘ä»¬å·²ç»å°†å…¶ä¸ eslint é›†æˆï¼Œå› æ­¤æˆ‘ä»¬ä¸å¿…ä¸º flow ç¼–å†™æ–°çš„é›†æˆã€‚

## æ¼‚äº®äº›

[appetter](https://github.com/prettier/prettier)æ˜¯ä¸€ä¸ª Javascript ä»£ç æ ¼å¼åŒ–ç¨‹åºã€‚è¿™æ„å‘³ç€å®ƒæ˜¯ä¸€ä¸ªç¨‹åºï¼Œå°†æ‚¨çš„ javascript ä»£ç ä½œä¸ºè¾“å…¥ï¼Œç„¶åè¾“å‡ºç›¸åŒçš„ä»£ç ï¼Œä½†ç»è¿‡æ ¼å¼åŒ–ã€‚ä»£ç å°†ä»¥æ ‡å‡†çš„æ–¹å¼è¿›è¡Œæ ¼å¼åŒ–ï¼Œå› æ­¤çœ‹èµ·æ¥éƒ½æ˜¯ä¸€æ ·çš„â€”â€”ä¾‹å¦‚ï¼Œä½¿ç”¨ç›¸åŒçš„é—´è·è§„åˆ™ã€æ”¾ç½®æ¢è¡Œç¬¦çš„ä½ç½®ç­‰ç­‰ã€‚

è¿™å¾ˆæ£’ï¼Œå› ä¸º:

*   æ‚¨ä¸å¿…åœ¨ç¼–å†™ä»£ç æ—¶èŠ±è´¹æ—¶é—´æ‰‹åŠ¨æ ¼å¼åŒ–ä»£ç ã€‚ä½ å¯ä»¥å†™ä½ èƒ½æƒ³åˆ°çš„æœ€ä¸‘çš„ä»£ç ï¼Œåªè¦å®ƒæ˜¯æœ‰æ•ˆçš„ä»£ç ï¼Œæ¼‚äº®å°±ä¼šè‡ªåŠ¨åœ°è®©å®ƒå˜å¾—æ›´æ¼‚äº®ã€‚
*   ä½ æœ‰ä¸€ä¸ªå¿«é€Ÿå’Œè‡ªåŠ¨åŒ–çš„æ ¼å¼åŒ–ä»£ç çš„æ–¹æ³•ï¼Œæ‰€ä»¥ä½ çš„ repo ä¸­çš„æ‰€æœ‰ä»£ç çœ‹èµ·æ¥éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™ä½¿å¾—å®ƒæ›´å®¹æ˜“é˜…è¯»å’Œç†è§£ã€‚
*   ä½ ä¸ä¼šä¸ºä»£ç åº”è¯¥å¦‚ä½•æ ¼å¼åŒ–è€Œäº‰è®ºä¸ä¼‘ï¼Œå› ä¸ºä¸ç®¡äººä»¬æƒ³æ€ä¹ˆå†™ï¼Œä»£ç éƒ½è¢«å¸è½½åˆ°å·¥å…·ä¸­äº†ã€‚

create-react-app æ²¡æœ‰å…³äºæ›´æ¼‚äº®çš„éƒ¨åˆ†ï¼Œä½†è¿™å°±æ˜¯æˆ‘ä»¬åœ¨è¿™é‡Œçš„åŸå› ï¼æˆ‘ä»¬æ˜¯è¿™æ ·é…ç½®çš„:

```
yarn add --dev prettier eslint-config-prettier eslint-plugin-prettier

// Your package.json
"scripts": {
  "prettier": "prettier --single-quote --trailing-comma es5 --write \"!(build)/**/*.js\"",
},

// Your .eslintrc
{
  "extends": [
    "react-app",
    "prettier",
    "prettier/flowtype",
    "prettier/react"
  ],
  "plugins": [
    "flowtype-errors",
    "prettier"
  ],
  "rules": {
    "flowtype-errors/show-errors": 2,
    "prettier/prettier": ["error", {
      "singleQuote": true,
      "trailingComma": "es5"
    }],
    "prefer-const": "warn"
  }
} 
```

Enter fullscreen mode Exit fullscreen mode

è¿™é‡Œå‘ç”Ÿäº†ä¸€äº›äº‹æƒ…ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æŠŠå®ƒä»¬å…·ä½“åŒ–:

*   æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„æ›´æ¼‚äº®çš„è„šæœ¬:çº±æ›´æ¼‚äº®ã€‚è¿è¡Œæ—¶ï¼Œå®ƒå°†è¯»å–ä¸åœ¨ build/ç›®å½•ä¸­çš„ä»»ä½•ä»£ç ï¼Œå¹¶ä»¥æ­£ç¡®çš„æ ¼å¼å†™å›ã€‚è¿˜åŒ…æ‹¬ä¸€äº›åŸºæœ¬çš„é…ç½®[é€‰é¡¹](https://github.com/prettier/prettier#options)ç»™æ›´æ¼‚äº®çš„ã€‚
*   æˆ‘ä»¬å¸Œæœ› eslint æŠ¥å‘Š prettier æ£€æµ‹åˆ°çš„ä»»ä½•æ ¼å¼é”™è¯¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ·»åŠ äº† eslint-plugin-appearlierï¼Œå¹¶åœ¨æ’ä»¶å’Œè§„åˆ™éƒ¨åˆ†å¯ç”¨äº†å®ƒ:

```
 "plugins": [
    "flowtype-errors",
    "prettier"
  ],
  "rules": {
    "flowtype-errors/show-errors": 2,
    "prettier/prettier": ["error", {
      "singleQuote": true,
      "trailingComma": "es5"
    }],
    "prefer-const": "warn"
  } 
```

Enter fullscreen mode Exit fullscreen mode

éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¤åˆ¶æˆ‘ä»¬æ›´æ¼‚äº®çš„é…ç½®(ğŸ˜¢)å’Œæˆ‘ä»¬çš„ package.json ä¸­ï¼Œå› ä¸º prettier ç›®å‰ä¸æ”¯æŒé…ç½®æ–‡ä»¶ã€‚

æœ€åï¼Œeslint æœ¬èº«åŒ…å«äº†å‡ ä¸ªæ ¼å¼è§„åˆ™ï¼Œä½†æ˜¯è€ƒè™‘åˆ°æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ prettleï¼Œæˆ‘ä»¬ä¸å¸Œæœ› eslint æŠ±æ€¨ prettle å°†å¤„ç†çš„æ ¼å¼è§„åˆ™ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ·»åŠ äº† eslint-config-appellisterï¼Œå®ƒå°†ç¦ç”¨ä»»ä½•å½±å“æ ¼å¼çš„ eslint è§„åˆ™ã€‚ä¸ºäº†å¯ç”¨å®ƒï¼Œæˆ‘ä»¬æ·»åŠ äº†è¿™äº›é¢å¤–çš„æ‰©å±•:

```
 "extends": [
    "react-app",
    "prettier",
    "prettier/flowtype",
    "prettier/react"
  ], 
```

Enter fullscreen mode Exit fullscreen mode

å°±æ˜¯è¿™æ ·ï¼æˆ‘ä»¬çš„åŸºæœ¬æ¼‚äº®å·¥ä½œæµç¨‹ä»¥å¦‚ä¸‹æ–¹å¼å·¥ä½œ:

*   å†™ä»£ç 
*   å°è¯•æäº¤å·®å¼‚
*   æˆ‘ä»¬çš„ diff å·¥å…·é€šè¿‡ eslint æŠ¥å‘Šæ›´æ¼‚äº®çš„é”™è¯¯
*   è¿è¡Œçº±çº¿æ›´æ¼‚äº®
*   æäº¤å·®å¼‚ï¼ğŸ‰

ä½ ä¹Ÿå¯ä»¥é€šè¿‡åœ¨ä½ çš„ç¼–è¾‘å™¨ä¸­æ·»åŠ æ›´æ¼‚äº®çš„æ¥è¿›è¡Œæ›´ç´§å¯†çš„é›†æˆï¼Œè¿™æ ·å®ƒå¯ä»¥åœ¨ä½ è¾“å…¥æˆ–è€…ä¿å­˜æ–‡ä»¶çš„æ—¶å€™æ ¼å¼åŒ–ä½ çš„ä»£ç ï¼Œè¿™æ ·ä½ å°±ä¸éœ€è¦æ˜¾å¼çš„è¿è¡Œ yarn prettier äº†ã€‚ç„¶è€Œï¼Œç¼–è¾‘å™¨é›†æˆæ˜¯å¦ä¸€ç¯‡æ–‡ç« çš„ä¸»é¢˜ã€‚

è¿™å°±æ˜¯æˆ‘ä»¬åœ¨ Nylas çš„å·¥ä½œæ–¹å¼ï¼(æˆ–è€…è‡³å°‘æˆ‘ä»¬æ˜¯å¦‚ä½•åŠªåŠ›çš„ã€‚)

æœ€åï¼Œæˆ‘æƒ³æ„Ÿè°¢æ¯ä¸€ä¸ªèŠ±æ—¶é—´æ„å»ºå’Œè´¡çŒ®è¿™äº›ä»¤äººæ•¬ç•çš„å·¥å…·çš„äººï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™äº›å·¥å…·è®© 2017 å¹´çš„ Javascript å¼€å‘å˜å¾—æ›´åŠ æœ‰è¶£ã€‚

ä½ ä»¬å…¬å¸æ˜¯æ€ä¹ˆåš JS çš„ï¼Ÿè¯·åœ¨ä¸‹æ–¹ç•™è¨€è¯„è®ºã€‚

è¿™ç¯‡æ–‡ç« æœ€åˆå‘è¡¨åœ¨ Nylas å·¥ç¨‹åšå®¢ä¸Šã€‚

[![](img/7c2b8f1b249d8765a6eba5f0970d99ad.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--NLup0_8a--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/http://track.hubspot.com/__ptq.gif%3Fa%3D3314308%26k%3D14%26r%3Dhttps%253A%252F%252Fwww.nylas.com%252Fblog%252Fhow-do-we-even-javascript%26bu%3Dhttps%25253A%25252F%25252Fwww.nylas.com%25252Fblog%26bvt%3Drss)