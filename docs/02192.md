# é‡è®¿ä¹¦å†™æ¨¡å¼çš„å‚ç›´æ’ç‰ˆ

> åŸæ–‡:[https://dev . to/æƒ æ™¶/vertical-buttoning-with-writing-mode-revisited-26kd](https://dev.to/huijing/vertical-typesetting-with-writing-mode-revisited-26kd)

å¤§çº¦ä¸€å¹´å‰ï¼Œæˆ‘å†™äº†ä¸€ç¯‡å…³äºå°è¯•åœ¨ç½‘ä¸Šå‚ç›´æ’ç‰ˆä¸­æ–‡çš„æ–‡ç« ã€‚ç”±æ­¤è€Œæ¥çš„æ˜¯[ä¸€ä¸ªå…è®¸ä½ ä½¿ç”¨ checkbox hack åœ¨ä¹¦å†™æ¨¡å¼ä¹‹é—´åˆ‡æ¢çš„åŸºæœ¬æ¼”ç¤º](https://www.chenhuijing.com/zh-type)ã€‚

ä¸ä¹…å‰æˆ‘é‡åˆ°äº† [Yoav Weiss](https://blog.yoav.ws/) ï¼Œæˆ‘ä»¬èŠäº†ä¸€ä¼šå„¿å…³äº [Responsive Images ç¤¾åŒºç»„](http://ricg.io/)çš„äº‹æƒ…ï¼Œå› ä¸ºæˆ‘æåˆ°äº†æˆ‘è®¤ä¸ºå¦‚æœèƒ½å¤Ÿæœ‰ä¸€äº›åª’ä½“å¯¹å¸¦æœ‰`picture`å…ƒç´ çš„`writing-mode`è¿›è¡ŒæŸ¥è¯¢ä¼šå¾ˆå¥½ï¼Œè¿™æ ·æˆ‘å°±ä¸å¿…åœ¨åˆ‡æ¢æ¨¡å¼æ—¶å¯¹æˆ‘çš„å›¾åƒè¿›è¡Œä¸€äº›è½»å¾®çš„é»‘å®¢å¼è½¬æ¢ã€‚ä»–å»ºè®®æˆ‘æŠŠå®ƒå†™æˆ[å“åº”å›¾åƒçš„ç”¨ä¾‹](https://github.com/ResponsiveImagesCG/ri-usecases/issues/63)ã€‚

ä½†æ˜¯å½“æˆ‘é‡æ–°æ‰“å¼€è¿™ä¸ªä¸€å¹´æ²¡ç¢°è¿‡çš„æ¼”ç¤ºæ—¶ï¼Œæˆ‘çš„è„¸ä»ğŸ¤¨åˆ°ğŸ˜±åˆ°ğŸ¤¬åˆ°ğŸ˜©å‰ 5 åˆ†é’Ÿå†…(æˆ‘èƒ½è¯´ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘æœ‰ä¸€å¼ è¡¨æƒ…ä¸°å¯Œçš„è„¸ğŸ¤·).å› æ­¤ï¼Œä¸ºäº†å®£æ³„ï¼Œæˆ‘å°†å†™ä¸‹æˆ‘çš„è¯¦ç»†æè¿°ï¼Œè¯•å›¾æ‰¾å‡ºè°(å³æµè§ˆå™¨)ç ´åäº†ä»€ä¹ˆï¼Œå¹¶å¸Œæœ›ç°åœ¨å¦‚ä½•å‡è½»å®ƒã€‚

è­¦å‘Šï¼Œå¸–å­å¾ˆé•¿ã€‚

## åˆæ­¥å‘ç°

æˆ‘åªæŸ¥çœ‹æˆ‘å¯ä»¥ç›´æ¥è®¿é—®çš„æµè§ˆå™¨ã€‚å› ä¸ºæˆ‘è¿˜æœ‰å…¶ä»–çš„äº‹æƒ…è¦åšğŸ™†ã€‚

### Chrome (64.0.3278.0 å¼€å‘)

[![vertical-rl on Chrome](img/748bb0253075d5eb8611cd3b7b94e9cc.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ih_POUfa--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/chrome-640.jpg)

å¥½å§ï¼Œè¿™çœ‹èµ·æ¥å¾ˆå¥½ã€‚å½“æˆ‘è¯´ä¸€åˆ‡éƒ½åäº†çš„æ—¶å€™ï¼Œæˆ‘æœ‰ç‚¹å¤¸å¼ ã€‚æ‰€æœ‰çš„æ–‡æœ¬å’Œå›¾åƒéƒ½è€ƒè™‘åœ¨å†…ï¼Œåœ¨å‚ç›´ä¹¦å†™æ¨¡å¼ä¸‹æ²¡æœ‰å¤§çš„æ¸²æŸ“é—®é¢˜ã€‚å¹²å¾—å¥½ï¼ŒChromeã€‚

[![horizontal-tb on Chrome](img/a5149cc6d83f60d84a9e5dd788708f24.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--eu797fp0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/chrome2-640.jpg)

åˆ‡æ¢åˆ‡æ¢å™¨ä¼šå°†ä¸œè¥¿è¸¢åˆ°å³è¾¹ã€‚æˆ‘è®°å¾—è¯•å›¾åœ¨å‚ç›´ä¹¦å†™æ¨¡å¼ä¸‹æ°´å¹³å±…ä¸­æ˜¯éå¸¸ç—›è‹¦çš„ï¼Œæ‰€ä»¥è¿™ä¸€å®šæ˜¯æˆ‘åœ¨ç¬¬ä¸€æ¬¡å°è¯•æ—¶ä¸å¤ªé¡ºåˆ©çš„ä¸€äº›æŠ€å·§ã€‚

è¿™åœ¨ 2017 å¹´åˆè‚¯å®šæ˜¯æœ‰æ•ˆçš„ï¼Œå› ä¸ºæˆ‘ä¸ºæˆ‘çš„ç½‘ç»œä¼šè®®åˆ¶ä½œäº†è¿™ä¸ªæˆªå±ã€‚äºšæ´²å¹»ç¯ç‰‡ã€‚æˆ‘å¾ˆç¡®å®šå®ƒå½“æ—¶ç”¨çš„æ˜¯ Chromeã€‚å‡ ä¸ªæœˆçš„æ—¶é—´å¯¹ä¸€ä¸ªæ¼”ç¤ºçš„å½±å“æ˜¯æƒŠäººçš„ã€‚æˆ‘å­¦é•¿æ›¾ç»æè¿‡ä¸€å¥è¯å«â€œä»£ç è…çƒ‚â€ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è¿™ä¸ªã€‚

### ç«ç‹(59.0a1 æ¯å¤œ)

[![vertical-rl on Firefox](img/fd554d9e388594c4113d52b963876dcd.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--xCNKtPp1--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/firefox-640.jpg)

å¤©å•Šï¼Œè¿™çœŸæ˜¯ã€‚æˆ‘æ— è¯å¯è¯´ã€‚æˆ‘ä½¿ç”¨ Firefox Nightly ä½œä¸ºæˆ‘çš„é»˜è®¤æµè§ˆå™¨ï¼Œå› æ­¤æˆ‘å¯¹ ZOMG ä¸€åˆ‡éƒ½åäº†çš„æœ€åˆååº”ã€‚å› ä¸ºè¿™é‡Œä¸€åˆ‡éƒ½åäº†ã€‚çœ‹çœ‹å®ƒï¼Œçœ‹çœ‹æ— é™çš„æ°´å¹³æ»šåŠ¨æ¡ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿï¼

[![horizontal-tb on Firefox](img/9de55bc78357d601b6639573cc2011d5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--KT-dE8Mo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/firefox2-640.jpg)

è®©æˆ‘ä»¬åˆ‡æ¢â€¦ç­‰ç­‰ï¼Œæˆ‘çš„å¤é€‰æ¡†åœ¨å“ªé‡Œï¼Ÿï¼å¹æ°”ã€‚è¿™å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ã€‚æ— è®ºå¦‚ä½•ï¼Œè‡³å°‘æˆ‘å°†å¤é€‰æ¡†ä¸æ ‡ç­¾ç»‘å®šåœ¨ä¸€èµ·ï¼Œè¿™æ ·æˆ‘ä»¬ä»ç„¶å¯ä»¥å•å‡»æ ‡ç­¾è¿›è¡Œåˆ‡æ¢ã€‚å—¯ï¼Œå®ƒè‚¯å®šä¸å±…ä¸­ï¼Œä½†ä¹Ÿä¸å¤ªç ´ã€‚ä¸¤ç§æµè§ˆå™¨ï¼Œå·²ç»æ˜¯å¤©å£¤ä¹‹åˆ«äº†ã€‚

### Safari æŠ€æœ¯é¢„è§ˆ 44

[![vertical-rl on Safari TP](img/cc19af1cc55f33cb58b48443db8f85a7.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--6z79DMhq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/stp-640.jpg)

å˜¿ã€‚å˜¿å˜¿å˜¿ã€‚è¿™ä¸ªçœ‹èµ·æ¥å‡ºå¥‡çš„å®Œå¥½ã€‚è¿èº«é«˜éƒ½æ²¡é”™ã€‚Safariï¼Œæˆ‘å¯èƒ½çœ‹é”™ä½ äº†ã€‚å†è¯´ä¸€é Safari æ¸²æŸ“å¼•æ“åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿå“¦å¯¹äº†ï¼ŒWebKitã€‚

[![horizontal-tb on Safari TP](img/16473cf7f7c28a0bae49c47c45c0535a.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--5cu4Y-xx--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/stp2-640.jpg)

å“¦ï¼Œè¿™æœ‰ç‚¹ï¼Œæœ‰ç‚¹ï¼Œåœ¨é¡µé¢çš„ä¸­é—´ã€‚ä¸çœ‹ä»£ç ï¼Œæˆ‘è‚¯å®šæˆ‘å°è¯•äº†ä¸€äº›å¥‡æ€ªçš„ç¿»è¯‘æ¥ç§»åŠ¨æ•´ä¸ªå†…å®¹å—ï¼Œå› æ­¤æ¯ä¸ªæµè§ˆå™¨çš„è¡Œä¸ºéƒ½ä¸ä¸€è‡´ã€‚ä½†è¿™æ˜¯ä¸€ä¸ªæƒŠå–œã€‚

### è¾¹ç¼˜ 16.17046

æˆ‘æ­£åœ¨ä½¿ç”¨ Windows 10 insider fast ring releaseï¼Œæ‰€ä»¥æˆ‘è®¤ä¸ºæˆ‘çš„ Edge å¯èƒ½æ¯”å¤§å¤šæ•°äººå®‰è£…çš„ç‰ˆæœ¬éƒ½è¦é«˜ã€‚æ²¡å…³ç³»ï¼Œæˆ‘ä¹Ÿå¯ä»¥æŸ¥çœ‹æˆ‘çš„æ‰‹æœº(æ˜¯çš„ï¼Œæˆ‘ç”¨çš„æ˜¯ Windows phoneï¼Œæ¥å§ï¼Œè¯„åˆ¤æˆ‘)ã€‚

[![vertical-rl on Edge 16](img/aed902e9307d53e5625f00378df8b043.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--Sv_XdTT9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/edge-640.jpg)

åæ­£è¿™ä¸ªçœ‹èµ·æ¥ä¹Ÿä¸å¤ªç ´ã€‚åªæ˜¯å¤é€‰æ¡†æœ‰ç‚¹å…³ã€‚æœ€å¤§çš„å¥½å¤„æ˜¯æ»šè½®å¯ä»¥å·¥ä½œï¼æ‰€æœ‰å…¶ä»–æµè§ˆå™¨éƒ½ä¸å…è®¸æˆ‘ç”¨æ»šè½®æ°´å¹³æ»šåŠ¨ã€‚æˆ‘ä¸çŸ¥é“è¿™æ˜¯ Windows çš„é—®é¢˜è¿˜æ˜¯ Edge çš„é—®é¢˜ã€‚

[![horizontal-tb on Edge 16](img/3a7db5c05298637fad99eeb6f7a2b351.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--o3Yu-Axf--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/edge2-640.jpg)

æ¨¡ç³Šåœ°åŠå±…ä¸­ã€‚æˆ‘çœŸçš„å¿…é¡»å°½å¿«æ£€æŸ¥è½¬æ¢ä»£ç ã€‚æˆ‘ç°åœ¨å¯èƒ½ä¹Ÿå¯¹å¤é€‰æ¡†çš„æƒ…å†µç•¥æœ‰æ‰€çŸ¥ã€‚å•Šï¼Œä½†æ˜¯æ²¡æœ‰æ»šè½®çš„å‚ç›´æ»šåŠ¨ï¼Œè¿™è¶Šæ¥è¶Šæœ‰è¶£äº†ã€‚å¦å¤–ï¼Œæ³¨æ„æ»šåŠ¨æ¡åœ¨å·¦è¾¹ğŸ¤”ã€‚

### è¾¹ç¼˜ 15.15254

<figcaption>[![](img/465fcb28442f8c7b218a5dd6dcc1bd23.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--triFjINg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/edgem.jpg)15 æ—¥

<figcaption>[![](img/71354343371b444aa8e0661383afb79c.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--UKFypdIu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/edgem2.jpg)ç¬¬åäº”æœŸ

å’Œ Edge 16 å·®ä¸å¤šã€‚æˆ‘æœ‰ç†ç”±ç›¸ä¿¡ Windows phone ä¸Šçš„ Edge ä½¿ç”¨äº†ä¸æ¡Œé¢ç‰ˆå®Œå…¨ç›¸åŒçš„æ¸²æŸ“å¼•æ“ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ EdgeHTMLï¼Œä½†å¦‚æœæˆ‘é”™äº†ï¼Œè¯·æœ‰äººçº æ­£æˆ‘ã€‚

### iOS 11 WebKit

<figcaption>iOS 11 ä¸Šçš„ vertical-rl WebKit</figcaption>

[![](img/b205ea9cb8609bde8c6fca53b7e3ff88.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--Yyeva4FG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/ios.jpg)

<figcaption>iOS 11 ä¸Šçš„æ¨ªç‰ˆ-TB WebKit</figcaption>

[![](img/e1b6742b1d4976c366cd59f9ad970199.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--GFT4SnN0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/ios2.jpg)

å°½ç®¡æˆ‘çš„ iPad ä¸Šå®‰è£…äº†è¿‡å¤šçš„æµè§ˆå™¨ï¼Œä½†æˆ‘çŸ¥é“é©±åŠ¨æ‰€æœ‰æµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“ä»ç„¶æ˜¯ WebKitï¼Œå› ä¸ºè‹¹æœä»æ¥ä¸å…è®¸ç¬¬ä¸‰æ–¹æµè§ˆå¼•æ“ã€‚æ­£å¦‚æ¡Œé¢ç‰ˆå·²ç»å±•ç¤ºçš„é‚£æ ·ï¼Œå®ƒæ˜¯è¡¨ç°è¾ƒå¥½çš„ç‰ˆæœ¬ä¹‹ä¸€ã€‚

## ä»£ç æ—¶é—´

å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»å»ºç«‹äº†ç ´åçš„åŸºçº¿ï¼Œæ˜¯æ—¶å€™æ­å¼€é˜²å°˜ç½©ï¼Œçœ‹çœ‹æˆ‘åœ¨é‚£ä¸‹é¢æœ‰ä»€ä¹ˆå¥‡æ€ªçš„ä»£ç äº†ã€‚å…¬å¹³åœ°è¯´ï¼Œè€ƒè™‘åˆ°è¿™ä¸ªæ¼”ç¤ºæ˜¯å¤šä¹ˆçš„ç®€å•ï¼Œå®ƒå¹¶ä¸å¤šï¼Œæ‰€ä»¥è¿™å¾ˆå¥½ã€‚

æˆ‘è¿˜æƒ³å¤§å£°å–Šå‡ºæ¥(ç¬¬æ— æ•°æ¬¡) [Browsersync](https://www.browsersync.io/) ï¼Œè¿™æ˜¯æˆ‘çš„é¡¶çº§å¼€å‘å·¥å…·ï¼Œå°¤å…¶æ˜¯åœ¨å¤šç§è®¾å¤‡ä¸Šæ„å»ºå’Œè°ƒè¯•å¤šç§æµè§ˆå™¨çš„æ—¶å€™ã€‚å¦‚æœæ²¡æœ‰ Browsersyncï¼Œæˆ‘ä¸ä¼šåšè¿™ä¹ˆå¤šã€‚

### ä¸€äº›èƒŒæ™¯

åˆ‡æ¢å™¨çš„å®ç°å¯èƒ½æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨ Javascript åˆ‡æ¢ç±»ï¼Œæˆ–è€…ä½¿ç”¨ checkbox hackã€‚æˆ‘ç»å¸¸å€¾å‘äºåªä½¿ç”¨ CSS çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰€ä»¥å†³å®šä½¿ç”¨ checkbox hackã€‚è¿™ä¸ªæ¼”ç¤ºå¾ˆç®€å•ï¼Œåœ¨é”®ç›˜æ§åˆ¶æ–¹é¢æ²¡æœ‰å¤ªå¤šçš„å¹²æ‰°ï¼Œæˆ‘çš„æ„æ€æ˜¯ï¼Œä½ å¯ä»¥åƒä»»ä½•å…¶ä»–å¤é€‰æ¡†ä¸€æ ·åˆ‡æ¢ã€‚

æˆ‘çœŸçš„éœ€è¦ç ”ç©¶ä¸€ä¸‹å¯è®¿é—®æ€§ï¼Œä»¥ç¡®å®šæˆ‘æ˜¯å¦ç»™å±å¹•é˜…è¯»å™¨å¸¦æ¥äº†éº»çƒ¦ï¼Œä½†é‚£æ˜¯ä»¥åçš„äº‹äº†ã€‚ä»Šå¤©çš„é¦–è¦ä»»åŠ¡æ˜¯å¤„ç†å¸ƒå±€é—®é¢˜ã€‚

å¦‚æœæ‚¨ä»¥å‰æ²¡æœ‰å°è¯•è¿‡ï¼Œé‚£ä¹ˆ checkbox hack æ¶‰åŠåˆ°åˆ©ç”¨`:checked`ä¼ªé€‰æ‹©å™¨å’Œå…„å¼Ÿæˆ–å­é€‰æ‹©å™¨ã€‚ä½ å¯ä»¥ç”¨è¿™ç§æ–¹æ³•ç”¨ CSSâ€œé»‘â€çŠ¶æ€ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåˆ‡æ¢`:checked`çŠ¶æ€çš„è¾“å…¥(é€šå¸¸æ˜¯ checkbox å…ƒç´ )å¿…é¡»ä¸æ‚¨æƒ³è¦åˆ‡æ¢å…¶çŠ¶æ€çš„ç›®æ ‡å…ƒç´ å¤„äºåŒä¸€çº§åˆ«æˆ–æ›´é«˜ã€‚

```
<body>
  <input type="checkbox" name="mode" class="c-switcher__checkbox" id="switcher" checked>
  <label for="switcher" class="c-switcher__label">ç«ªæ’</label>

  <main>
    <!-- All the markup for the content -->
  </main>

  <script src="scripts.js"></script>
</body> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°±æ˜¯å¤æ‚ä¹‹å¤„ã€‚åœ¨åŒä¸€ä¸ªé¡µé¢ä¸Šæ··åˆä¸åŒçš„åµŒå¥—ä¹¦å†™æ¨¡å¼ç¡®å®ä¼šä½¿æµè§ˆå™¨å˜å¾—æ··ä¹±ã€‚æˆ‘ä¸æ˜¯æµè§ˆå™¨å·¥ç¨‹å¸ˆï¼Œä½†æˆ‘æœ‰è¶³å¤Ÿçš„åŸºç¡€çŸ¥è¯†æ¥çŸ¥é“æ¸²æŸ“ä¸æ˜¯å°äº‹ã€‚ä½†æˆ‘åšæŒæƒ©ç½šï¼Œæ‰€ä»¥ç»§ç»­å¿å—ç—›è‹¦ï¼

<figcaption>é€šç”¨ç­–ç•¥å¸¦å¤é€‰æ¡†é»‘å®¢</figcaption>

[![](img/7f6601eb8fbd4ff2b9dbb29153bc9a3f.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--TadLWqxG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/diagram.svg)

åœ¨æœ€åˆçš„æ¼”ç¤ºä¸­ï¼Œæˆ‘å°†`body`å…ƒç´ çš„é»˜è®¤å†™å…¥æ¨¡å¼è®¾ç½®ä¸º`vertical-rl`ï¼Œç„¶åä½¿ç”¨å¤é€‰æ¡†åˆ‡æ¢`main`å…ƒç´ çš„å†™å…¥æ¨¡å¼ã€‚ä½†æ˜¯ä¼¼ä¹æ¯ä¸ªäºº(æµè§ˆå™¨æ¸²æŸ“å¼•æ“)å¤„ç†åµŒå¥—ä¹¦å†™æ¨¡å¼çš„æ–¹å¼éƒ½ä¸ä¸€æ ·ï¼Œæ­£å¦‚ä¸Šé¢çš„æˆªå›¾ç›®å½•æ‰€ç¤ºã€‚

### è°ƒè¯• 101:å¤ä½åˆ°åŸºçº¿

è¯·è®°ä½ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§è„‘è½¬å‚¨æ¡ç›®ï¼ŒæŠ±æ­‰ï¼Œå¦‚æœä½ æ„Ÿåˆ°æ— èŠã€‚æˆ‘åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯åˆ é™¤æ‰€æœ‰çš„é£æ ¼ï¼Œä»å¤´å¼€å§‹ã€‚åŒæ ·ï¼Œè¿™æ˜¯å¯è¡Œçš„ï¼Œå› ä¸ºæ¼”ç¤ºä¸€å¼€å§‹å°±æ˜¯åŸºæœ¬çš„ã€‚ä¼™è®¡ä»¬ï¼Œè¯­å¢ƒå°±æ˜¯ä¸€åˆ‡ã€‚

```
html {
  box-sizing: border-box;
  height: 100%;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

body {
  margin: 0;
  padding: 0;
  font-family: "Microsoft JhengHei", "å¾®è»Ÿæ­£é»‘é«”", "Heiti TC", "é»‘é«”-ç¹", sans-serif;
  text-align: justify;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å‡ ä¹æˆäº†æˆ‘æ‰€æœ‰é¡¹ç›®äº‹å®ä¸Šçš„å‡ºå‘ç‚¹ã€‚å°†ä¸€åˆ‡è®¾ç½®ä¸º`border-box`ï¼Œé€šå¸¸æˆ‘ä¼šå°†`margin: 0`å’Œ`padding: 0`æ·»åŠ åˆ°é€šç”¨é€‰æ‹©å™¨æ¨¡å—ä¸­ï¼Œä½œä¸ºæˆ‘çš„åŸºçº¿é‡ç½®ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªæ¼”ç¤ºä¸­ï¼Œæˆ‘ä¼šè®©æµè§ˆå™¨ä¿æŒé—´è·ï¼Œåªé‡ç½®`body`å…ƒç´ ã€‚

è¿™ä¸ªæ¼”ç¤ºå‡ ä¹æ˜¯çº¯ä¸­æ–‡çš„ï¼Œæ‰€ä»¥æˆ‘åœ¨æˆ‘çš„å­—ä½“å †æ ˆä¸­åªæ”¾äº†ä¸­æ–‡å­—ä½“ï¼Œå¹¶æŠŠç³»ç»Ÿçš„æ— è¡¬çº¿å­—ä½“ä½œä¸ºåå¤‡ã€‚ç„¶è€Œï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå°†æ‚¨é€‰æ‹©çš„åŸºäºæ‹‰ä¸è¯­çš„å­—ä½“æ”¾åœ¨ç¬¬ä¸€ä½æ˜¯ä¸€ä¸ªæ™®éçš„å…±è¯†ã€‚ç†ç”±æ˜¯ï¼Œä¸­æ–‡å­—ä½“å°†æ”¯æŒåŸºæœ¬çš„æ‹‰ä¸å­—ç¬¦ï¼Œè€Œä¸æ˜¯ç›¸åã€‚

å½“æµè§ˆå™¨é‡åˆ°ä»»ä½•ä¸­æ–‡å­—ç¬¦æ—¶ï¼Œå®ƒä¸ä¼šåœ¨åŸºäºæ‹‰ä¸æ–‡çš„å­—ä½“ç³»åˆ—ä¸­æ‰¾åˆ°å®ƒä»¬ï¼Œæ‰€ä»¥å®ƒä¼šé€€å›åˆ°ä¸‹ä¸€è¡Œï¼Œç›´åˆ°æ‰¾åˆ°å¯ä»¥æ‰¾åˆ°çš„å­—ä½“ã€‚å¦‚æœæ‚¨é¦–å…ˆåˆ—å‡ºä¸­æ–‡å­—ä½“ï¼Œæµè§ˆå™¨å°†ä½¿ç”¨ä¸­æ–‡å­—ä½“ä¸­çš„æ‹‰ä¸å­—ç¬¦ï¼Œæœ‰æ—¶è¿™äº›å­—å½¢ä¸æ˜¯é‚£ä¹ˆå®Œç¾ï¼Œçœ‹èµ·æ¥ä¸å¤ªå¥½ï¼Œå°¤å…¶æ˜¯åœ¨ Windows ä¸Šã€‚

æ¥ä¸‹æ¥æ˜¯ä¸€äº›å¯¹å¸ƒå±€æ²¡æœ‰å¤ªå¤§å½±å“çš„ç¾å­¦é£æ ¼(`line-height`ç®—å—ï¼ŸğŸ¤”)

```
img {
  max-height: 100%;
  max-width: 100%;
}

p {
  line-height: 2;
}

figure {
  margin: 0;
}

figcaption {
  font-family: "MingLiU", "å¾®è»Ÿæ–°ç´°æ˜é«”", "Apple LiSung", serif;
  line-height: 1.5;
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™æ˜¯ä¸€ä¸ªç›¸å½“ä¸é”™çš„èµ·ç‚¹ã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹è°ƒæŸ¥`writing-mode`è¡Œä¸ºäº†ã€‚

### å‚ç›´-rl çš„å«ä¹‰

åœ¨æ¯ä¸ªå…ƒç´ ä¸Šï¼Œ`writing-mode`çš„ç¼ºçœå€¼æ˜¯`horizontal-tb`ï¼Œå¹¶ä¸”å®ƒæ˜¯ä¸€ä¸ªç»§æ‰¿çš„å±æ€§ã€‚å¦‚æœåœ¨ä¸€ä¸ªå…ƒç´ ä¸Šä¸º`writing-mode`è®¾ç½®ä¸€ä¸ªå€¼ï¼Œè¿™ä¸ªå€¼å°†å‘ä¸‹çº§è”åˆ°å®ƒçš„æ‰€æœ‰å­å…ƒç´ ä»¥åŠæ›´é«˜çš„å…ƒç´ ã€‚

å¦‚æœæˆ‘ä»¬åœ¨`main`å…ƒç´ ä¸Šå°†`writing-mode`è®¾ç½®ä¸º`vertical-rl`ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ–‡æœ¬å’Œå›¾åƒéƒ½ä¼šåœ¨æ¯ä¸ªæµè§ˆå™¨ä¸­æ­£ç¡®å‘ˆç°ã€‚Firefox æœ‰ 15px çš„è½»å¾®å‚ç›´æº¢å‡ºï¼Œæˆ‘æ€€ç–‘è¿™æ˜¯ç”±äºæ»šåŠ¨æ¡ï¼Œä½†æˆ‘ä¸èƒ½ç¡®å®šã€‚å…¶ä»–æµè§ˆå™¨æ ¹æœ¬æ²¡æœ‰å‚ç›´æº¢å‡ºã€‚

[![vertical-rl on the main element](img/9e42dec0af2a8ec26866477402db9c91.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--3XTZzQkY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/main-640.jpg)

è®©`main`å…ƒç´ å¤„äºå‚ç›´ä¹¦å†™æ¨¡å¼çš„é—®é¢˜æ˜¯ï¼Œæ–‡æ¡£æœ¬èº«å¤„äºæ°´å¹³ä¹¦å†™æ¨¡å¼ï¼Œè¿™æ„å‘³ç€å†…å®¹ä»å·¦è¾¹å¼€å§‹ï¼Œæˆ‘ä»¬æœ€ç»ˆä¼šåœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶çœ‹åˆ°æ–‡ç« çš„ç»“å°¾ã€‚

å› æ­¤ï¼Œè®©æˆ‘ä»¬å°†äº‹æƒ…å‘å‰æ¨è¿›ä¸€çº§ï¼Œæ”¹ä¸ºåœ¨`body`å…ƒç´ ä¸Šè®¾ç½®`writing-mode: vertical-rl`ã€‚Chromeã€Safari å’Œ Edge ä»å³å‘å·¦æ¸²æŸ“å†…å®¹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ç„¶è€Œï¼ŒFirefox ä»ç„¶æ˜¾ç¤ºæ–‡ç« çš„ç»“å°¾ï¼Œå°½ç®¡è¿™ç¡®å®ä¿®å¤äº†æ»šåŠ¨æ¡æº¢å‡ºé—®é¢˜ã€‚è¿™çœ‹èµ·æ¥ä¸[é”™è¯¯ 1102175](https://bugzilla.mozilla.org/show_bug.cgi?id=1102175) æœ€ç›¸å…³ã€‚

[![vertical-rl on the body element](img/bbf6d4b3e41185257da5e86b0582d69f.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--dguTzLQ0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/body-640.jpg)

æœ€åï¼Œå¦‚æœæˆ‘ä»¬å°†`writing-mode: vertical-rl`åº”ç”¨åˆ°`html`å…ƒç´ ï¼ŒFirefox æœ€ç»ˆä¼šä»å³å‘å·¦è¯»å–ã€‚è¿˜æœ‰ï¼Œæ²¡æœ‰æç¬‘æº¢å‡ºï¼Œåªæ˜¯å‚ç›´çš„ä»å³åˆ°å·¦çš„å–„è‰¯ã€‚

[![vertical-rl on the html element](img/f94aed92c1915e8af06c268b8db010de.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--QrvD2T3B--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/html-640.jpg)

IE11 æ”¯æŒå†™æ¨¡å¼ï¼Œä½†æ˜¯ä½¿ç”¨äº†åœ¨ä½¿ç”¨`-ms-writing-mode: tb-rl`çš„è§„èŒƒçš„[æ—©æœŸç‰ˆæœ¬ä¸­å®šä¹‰çš„æ—§è¯­æ³•ã€‚è¿™å·¥ä½œå¾—å¾ˆå¥½ï¼Œä½†æ˜¯åŸºäºæˆ‘å½“å‰çš„æ ‡è®°ï¼Œå®ƒä½¿ç”¨äº† IE11 ä¸æ”¯æŒçš„`main`å…ƒç´ ï¼Œåˆ‡æ¢å™¨å¤±è´¥äº†ã€‚å³ä½¿åœ¨`main`å…ƒç´ ä¸Šåº”ç”¨`display: block`ä¹Ÿä¸èƒ½ä¿®å¤å®ƒã€‚ä¸ºäº†æ›´å¥½çš„æ”¯æŒï¼Œæˆ‘å¯ä»¥æŠŠ`main`æ¢æˆ`div`ã€‚è®©æˆ‘è€ƒè™‘ä¸€ä¸‹ã€‚](https://www.w3.org/TR/2003/CR-css3-text-20030514/#Progression)

## å¸ƒå±€åˆ‡æ¢

Firefox ä¸­æœ‰ä¸€äº›å·²çŸ¥çš„ flexbox bugsï¼Œæ‰€ä»¥æˆ‘å°†è°ƒè¯•ä»»åŠ¡åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯çº¯ç²¹çš„å¸ƒå±€ã€‚æ‰¾å‡ºä¸åŒçš„æ–¹æ³•ï¼Œè®©å†™ä½œæ¨¡å¼åˆ‡æ¢å™¨å·¥ä½œï¼Œæ²¡æœ‰ä»»ä½•æ—¶é«¦çš„æº¢å‡ºã€‚

ç¬¬äºŒéƒ¨åˆ†å°†æ¶‰åŠåˆ°å›¾åƒåœ¨å›¾ä¸­çš„ä¸­å¿ƒä½ç½®ï¼Œè¿™æ˜¯æˆ‘é™·å…¥è¿™ç§æ··ä¹±çš„åŸå› ã€‚é™¤äº†å±…ä¸­ä¹‹å¤–ï¼Œæˆ‘è¿˜æƒ³æœ‰æŸç§å›¾åƒå®šä½ã€‚è¿™ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡é‡æ¸©è¿™ä¸ªæ¼”ç¤ºçš„åŸå› :æˆ‘çš„ [RICG ç”¨ä¾‹æ’°å†™](https://github.com/ResponsiveImagesCG/ri-usecases/issues/63)ã€‚#mildlysidetracked

### è§£å†³æ–¹æ¡ˆ 1: Javascript

å…ˆè¯´é€ƒé¿è§£å†³æ–¹æ¡ˆã€‚æ—¢ç„¶é—®é¢˜äº§ç”ŸäºåµŒå¥—æ··åˆç¼–å†™æ¨¡å¼ï¼Œä¹Ÿè®¸åœæ­¢ä½¿ç”¨å®ƒä»¬ï¼Ÿæ ¹æ®æˆ‘ä»¬ä¸Šé¢çš„è§‚å¯Ÿï¼Œä¸€ä¸ª Javascript äº‹ä»¶ç›‘å¬å™¨åœ¨`html`å…ƒç´ ä¸Šåˆ‡æ¢ CSS ç±»å¯èƒ½ä¼šè§£å†³å¾ˆå¤šå¥‡æ€ªçš„å‘ˆç°é—®é¢˜ã€‚å¥½äº†ï¼Œä»£ç æ—¶é—´ğŸ¤“ã€‚

æˆ‘æƒ³åœ¨ä¸¤ä¸ªç±»ä¹‹é—´åˆ‡æ¢ï¼Œè¿™ä¸¤ä¸ªç±»æ¯«æ— åˆ›æ„åœ°å‘½åä¸º`vertical`å’Œ`horizontal`ã€‚æ—¢ç„¶æˆ‘å·²ç»æœ‰äº†å¤é€‰æ¡†ï¼Œä¸å¦¨åˆ©ç”¨å®ƒä½œä¸º toggler ç±»ã€‚

```
document.addEventListener('DOMContentLoaded', function() {
  const switcher = document.getElementById('switcher')

  switcher.onchange = changeEventHandler
}, false)

function changeEventHandler(event) {
  const isChecked = document.getElementById('switcher').checked
  const container = document.documentElement

  if (isChecked) {
    container.className = 'vertical'
  } else {
    container.className = 'horizontal'
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å°†å†…å®¹å—å±…ä¸­è¿›è¡Œå¾—ç›¸å½“é¡ºåˆ©ã€‚å› ä¸ºæ²¡æœ‰ä»»ä½•æœ‰è¶£çš„ä¹¦å†™æ¨¡å¼åµŒå¥—ï¼Œä¹Ÿæ²¡æœ‰ flexbox çš„å‚ä¸ï¼Œä¸€ä¸ªç®€å•çš„è‡ªåŠ¨è¾¹è·å±…ä¸­åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­éƒ½èƒ½å¾ˆå¥½åœ°å·¥ä½œï¼Œç”šè‡³æ˜¯ Firefoxã€‚

```
.vertical {
  writing-mode: vertical-rl;

  main {
    max-height: 35em;
    margin-top: auto;
    margin-bottom: auto;
  }
}

.horizontal {
  writing-mode: horizontal-tb;

  main {
    max-width: 40em;
    margin-left: auto;
    margin-right: auto;
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

[![Auto margins for vertical centring](img/97e92e374d678573cfaaeda39f0bcdff.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--vqAqJJqd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/centred2-640.jpg)

æœ‰è¶£çš„äº‹å®æ˜¯ï¼Œåœ¨å‚ç›´ä¹¦å†™æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`margin-top: auto`å’Œ`margin-bottom: auto`æ¥å‚ç›´å±…ä¸­ï¼ä½†æ˜¯ç›¸ä¿¡æˆ‘ï¼Œå½“æˆ‘è¯´æ°´å¹³å±…ä¸­æ¯”ä½ æƒ³è±¡çš„æ›´ç—›è‹¦ã€‚ä½ ä¼šçœ‹åˆ°ï¼Œå½“æˆ‘ä»¬åˆ°ä¸‹ä¸€éƒ¨åˆ†ä¸å¤é€‰æ¡†é»‘å®¢ã€‚

**æ„å¤–å€¾æ–œ**:å¾®è½¯ Edge åšæŒâ€œ*åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸å…è®¸å¯¹åªè¯»å±æ€§èµ‹å€¼*â€ecmascript 5 æ ‡å‡†ï¼Œä½† Chrome å’Œ Firefox å…è®¸ä¸¥æ ¼çš„æ€ªç™–æ¨¡å¼ï¼Œå¾ˆå¯èƒ½æ˜¯ä¸ºäº†ä»£ç å…¼å®¹ã€‚æˆ‘æœ€åˆè¯•å›¾ä½¿ç”¨`classList`æ¥åˆ‡æ¢ç±»åï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ä¸ªåªè¯»å±æ€§ã€‚`className`è™½ç„¶ä¸æ˜¯åªè¯»çš„ã€‚ç›¸å…³é˜…è¯»è§ä¸‹é¢çš„é“¾æ¥ã€‚

### è§£å†³æ–¹æ¡ˆ 2:å¤é€‰æ¡†ç ´è§£

è¿™é¡¹æŠ€æœ¯èƒŒåçš„æœºåˆ¶ç±»ä¼¼äºä½¿ç”¨ Javascriptï¼Œåªæ˜¯æˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ CSS ç±»æ¥æ”¹å˜çŠ¶æ€ï¼Œè€Œæ˜¯ä½¿ç”¨äº†`:checked`ä¼ªå…ƒç´ ã€‚å°±åƒæˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„é‚£æ ·ï¼Œcheckbox å…ƒç´ å¿…é¡»ä¸`main`å…ƒç´ å¤„äºç›¸åŒçš„çº§åˆ«æ‰èƒ½å·¥ä½œã€‚

```
.c-switcher__checkbox:checked ~ main {
  max-height: 35em;
  margin-top: auto;
  margin-bottom: auto;
}

.c-switcher__checkbox:not(:checked) ~ main {
  writing-mode: horizontal-tb;
  max-width: 40em; 
  margin-left: auto; // this doesn't work
  margin-right: auto; // this doesn't work
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¸ƒå±€ä»£ç ä¸`.vertical`å’Œ`.horizontal`ç›¸åŒï¼Œä½†å¯æƒœç»“æœå¹¶éå¦‚æ­¤ã€‚å‚ç›´å±…ä¸­å¾ˆå¥½ï¼Œçœ‹èµ·æ¥å°±åƒæˆ‘ä»¬ä½¿ç”¨ Javascript ä¸€æ ·ã€‚ä½†æ˜¯æ°´å¹³å±…ä¸­æ˜¯å‘å³å€¾æ–œçš„ã€‚è‡ªåŠ¨è¾¹è·åœ¨è¿™ä¸ªç»´åº¦ä¸Šä¼¼ä¹æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚

ä½†æ˜¯å¦‚æœä½ ä»”ç»†æƒ³æƒ³ï¼Œè¿™å®é™…ä¸Šæ˜¯â€œæ­£ç¡®çš„â€è¡Œä¸ºï¼Œå› ä¸ºæˆ‘ä»¬ä¹Ÿä¸èƒ½ç”¨è¿™ç§æ–¹æ³•åœ¨æ°´å¹³ä¹¦å†™æ¨¡å¼ä¸‹å‚ç›´å±…ä¸­ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹è§„æ ¼ã€‚

æ‰€æœ‰çš„ CSS å±æ€§éƒ½æœ‰å€¼ï¼Œä¸€æ—¦ä½ çš„æµè§ˆå™¨è§£æäº†ä¸€ä¸ªæ–‡æ¡£å¹¶æ„å»ºäº† DOM æ ‘ï¼Œå®ƒéœ€è¦ä¸ºæ¯ä¸ªå…ƒç´ çš„æ¯ä¸ªå±æ€§èµ‹å€¼ã€‚æ—Â·å…‹æ‹‰å…‹ç»™[å†™äº†ä¸€ä¸ªç²¾å½©çš„ä»£ç æ¼«ç”»](https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/)è§£é‡Š CSS å¼•æ“æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½ å¿…é¡»è¯»ä¸€è¯»ï¼åæ­£ä»·å€¼è§‚ã€‚ä»è§„æ ¼æ¥çœ‹:

> å±æ€§çš„æœ€ç»ˆå€¼æ˜¯ä¸€ä¸ª**å››æ­¥è®¡ç®—**çš„ç»“æœ:è¯¥å€¼é€šè¿‡è§„èŒƒç¡®å®š(**æŒ‡å®šå€¼**)ï¼Œç„¶åè§£æä¸ºä¸€ä¸ªç”¨äºç»§æ‰¿çš„å€¼(**è®¡ç®—å€¼**)ï¼Œç„¶ååœ¨å¿…è¦æ—¶è½¬æ¢ä¸ºç»å¯¹å€¼(**ä½¿ç”¨å€¼**)ï¼Œæœ€åæ ¹æ®å½“åœ°ç¯å¢ƒçš„é™åˆ¶è¿›è¡Œè½¬æ¢(**å®é™…å€¼**)ã€‚

æ­¤å¤–ï¼Œæ ¹æ®è§„èŒƒï¼Œé«˜åº¦çš„[è®¡ç®—å’Œè¾¹è·çš„](https://www.w3.org/TR/CSS2/visuren.html#relative-positioning)æ˜¯ç”±ä¸åŒç±»å‹çš„ç›’å­çš„è®¸å¤šè§„åˆ™å†³å®šçš„ã€‚å¦‚æœä¸Šé™å€¼å’Œä¸‹é™å€¼éƒ½æ˜¯è‡ªåŠ¨çš„ï¼Œåˆ™å®ƒä»¬çš„ä½¿ç”¨å€¼è¢«è§£æä¸º`0`ã€‚

[![Margins resolving to zero](img/f9c89952cb21e83789394dfc1050811d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--KHik-nUp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/zero-640.jpg)

å½“æˆ‘ä»¬å°†ä¹¦å†™æ¨¡å¼è®¾ç½®ä¸ºå‚ç›´æ—¶ï¼Œåœ¨è®¡ç®—è¿™äº›å€¼æ—¶ï¼Œâ€œé«˜åº¦â€ä¼¼ä¹å˜æˆäº†æ¨ªè½´ã€‚æˆ‘è¯´ä¼¼ä¹æ˜¯å› ä¸ºæˆ‘çœŸçš„ä¸èƒ½ 100%ç¡®å®šå®ƒåˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚æˆ‘çªç„¶æ„è¯†åˆ° Javascript è§£å†³æ–¹æ¡ˆå®é™…ä¸Šæ˜¯ç¥å¥‡çš„ï¼

ä¸ï¼Œæˆ‘å¼€ç©ç¬‘çš„ã€‚è¿™å®é™…ä¸Šæ˜¯å› ä¸ºæˆ‘ä»¬åœ¨ä½¿ç”¨ Javascript è§£å†³æ–¹æ¡ˆæ—¶æ²¡æœ‰æ··åˆä¹¦å†™æ¨¡å¼ï¼Œæ‰€ä»¥è§£æä¸º`0`çš„å„ä¸ªç»´åº¦å¹¶æ²¡æœ‰å½±å“æˆ‘ä»¬æƒ³è¦å®ç°çš„å±…ä¸­ã€‚ä¹Ÿè®¸æŠŠè¿™å¥è¯å†è¯»å‡ éğŸ¤·ã€‚

ä¸ºäº†åœ¨å‚ç›´ä¹¦å†™æ¨¡å¼åˆ‡æ¢æ—¶æ°´å¹³å±…ä¸­æˆ‘ä»¬çš„`main`å…ƒç´ ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å¥½çš„ ol' transform æŠ€å·§ã€‚

```
.c-switcher__checkbox:not(:checked) ~ main {
  position: absolute;
  top: 0;
  right: 50%;
  transform: translateX(50%);
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é€‚ç”¨äº Chromeã€Firefox å’Œ Safariã€‚ä¸å¹¸çš„æ˜¯ï¼Œå®ƒçš„è¾¹ç¼˜æœ‰ç‚¹ä¸ç¨³ï¼Œé¡µé¢ä¸­é—´çš„æŸä¸ªåœ°æ–¹å‘å·¦å€¾æ–œäº†ã€‚æ˜¯æ—¶å€™å‘ Edge æäº¤ bug äº†ã€‚æ­¤å¤–ï¼Œæ»šåŠ¨æ¡å‡ºç°åœ¨å·¦ä¾§è€Œä¸æ˜¯å³ä¾§ã€‚

[![Seems to be buggy on Edge](img/41a1eac739070e03430fbefb49bcc56c.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--0BAr7HLY--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/troublemaker-640.jpg)

## å¤„ç†å›¾åƒå¯¹é½

å¥½äº†ï¼Œç»§ç»­ã€‚å½“åœ¨å‚ç›´ä¹¦å†™æ¨¡å¼ä¸‹ï¼Œæˆ‘å¸Œæœ›æœ‰ä¸¤ä¸ªå›¾åƒçš„æ•°å­—å †å æ˜¾ç¤ºï¼Œè€Œåœ¨æ°´å¹³æ¨¡å¼ä¸‹ï¼Œå½“ç©ºé—´å…è®¸æ—¶ï¼Œå¹¶æ’æ˜¾ç¤ºã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œå›¾å½¢(å›¾åƒå’Œæ ‡é¢˜)åœ¨å„è‡ªçš„ä¹¦å†™æ¨¡å¼ä¸‹å±…ä¸­å¯¹é½ã€‚

### æ—§æ´¾å±æ€§

æ—¢ç„¶æˆ‘ä»¬æ˜¯åœ¨ä¸€ä¸ªå¹²å‡€çš„çŸ³æ¿ä¸Šæ“ä½œï¼Œè®©æˆ‘ä»¬è¯•ä¸€ä¸‹æœ€åŸºæœ¬çš„å®šå¿ƒæŠ€æœ¯:`text-align`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå›¾åƒå’Œæ–‡æœ¬æ˜¯è¡Œå†…å…ƒç´ ã€‚å°†`text-align: center`åº”ç”¨åˆ°å›¾å½¢å…ƒç´ ï¼Œå¤©å•Šï¼ŒæˆåŠŸäº†ğŸ˜±ï¼

æ°´å¹³å’Œå‚ç›´ä¹¦å†™æ¨¡å¼ä¸‹çš„å›¾åƒéƒ½å·²æˆåŠŸå±…ä¸­ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚æˆ‘ç°åœ¨éå¸¸æ‹…å¿ƒä¸€å¹´å‰æˆ‘å»ºé€ è¿™ä¸ªçš„æ—¶å€™çš„å¿ƒæ€ã€‚æ˜¾ç„¶ flexbox å¯¹æˆ‘çš„æ„å›¾å’Œç›®çš„æ¥è¯´æ˜¯ä¸å¿…è¦çš„ã€‚æˆ‘å…ˆä¼¸æ‰‹å»æ‹¿æ–°çš„é—ªäº®çš„ï¼Œå®ƒå’¬äº†æˆ‘çš„å±è‚¡ã€‚

æˆ‘å¾ˆéœ‡æƒŠã€‚æˆ‘éœ€è¦å–ä¸€æ¯ğŸ¥ƒ.

åœ¨æ°´å¹³ä¹¦å†™æ¨¡å¼ä¸‹ï¼Œæ²¡ä»€ä¹ˆéœ€è¦æ·»åŠ çš„ã€‚åªæ˜¯ä¸€ä¸ªç®€å•çš„`margin-bottom: 1em`æ•°å­—ä¹‹é—´çš„ä¸€äº›å–˜æ¯ç©ºé—´ã€‚å‡ºäºç©ºé—´åŸå› ï¼Œæˆ‘ç¡®å®éœ€è¦å°†çºµå‘å›¾åƒæ—‹è½¬ä¸ºæ¨ªå‘å›¾åƒï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ—‹è½¬å˜æ¢ã€‚

```
.vertical {
  figure {
    margin-bottom: 1em;
  }

  figcaption {
    max-width: 30em;
    margin: 0 auto;
    display: inline-block;
    text-align: justify;
  }

  .img-rotate {
    transform: rotate(-90deg);
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œå½“ä½ æ—‹è½¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œæµè§ˆå™¨ä»ç„¶è¯†åˆ«å®ƒçš„åŸå§‹å®½åº¦å’Œé«˜åº¦å€¼(æˆ‘æƒ³)ï¼Œæ‰€ä»¥å¯¹äºæˆ‘çš„æ¼”ç¤ºï¼Œå½“è§†çª—å˜å¾—å¾ˆçª„æ—¶ï¼Œå®ƒä¼šè§¦å‘æ°´å¹³æº¢å‡ºã€‚ä¹Ÿè®¸æœ‰è§£å†³çš„åŠæ³•ï¼Œæˆ–è€…æˆ‘åšé”™äº†ã€‚æ¬¢è¿å’¨è¯¢ã€‚

è¿™æ˜¯æˆ‘å°†ä¸º RICG æ’°å†™çš„å…·ä½“ç”¨ä¾‹ã€‚æƒ³æ³•æ˜¯ï¼Œå¦‚æœæœ‰æŸç§åª’ä½“å¯¹ä¹¦å†™æ¨¡å¼çš„æŸ¥è¯¢ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨`srcset`å±æ€§å®šä¹‰ä¸€ä¸ªè‚–åƒå›¾åƒå’Œä¸€ä¸ªé£æ™¯å›¾åƒï¼Œç„¶åç›¸åº”åœ°æä¾›é€‚å½“çš„å›¾åƒã€‚

å¯¹äºå‚ç›´ä¹¦å†™æ¨¡å¼ï¼Œæˆ‘ä»¬é€šå¸¸å¸Œæœ›æ–‡æœ¬æ˜¯ä¸¤ç«¯å¯¹é½çš„ï¼Œæˆ–è€…è‡³å°‘å¯¹äºé‚£äº›çŸ­çº¿ä¸Šçš„åŠå­¤ç«‹å­—ç¬¦æ˜¯é¡¶ç«¯å¯¹é½çš„ã€‚å¯¹äºå‘¼å¸ç©ºé—´ï¼Œè¾¹è·åº”ç”¨äºå·¦ä¾§è€Œä¸æ˜¯åº•éƒ¨ã€‚

```
.vertical {
  figure {
    margin-left: 1em;
  }

  figcaption {
    max-height: 30em;
    margin: auto 0.5em;
    display: inline-block;
    text-align: justify;
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ‘ä»¬ç°åœ¨å·®ä¸å¤šå¯ä»¥æ”¶å·¥äº†ã€‚ç»“æŸäº†ã€‚è¿™å·²ç»æ˜¯ç›®æ ‡çš„æœ€ç»ˆç»“æœã€‚æˆ‘æƒ³è¡¥å……ä¸€ç‚¹ï¼Œè¿™å¯¹äº Javascript å®ç°å’Œ checkbox hack å®ç°æ¥è¯´æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œé™¤äº†æˆ‘å‰é¢æåˆ°çš„ Edge bugã€‚

### ä½¿ç”¨ flexbox å¯¹ä¸­

æˆ‘æ€€ç–‘æˆ‘é€‰æ‹©ä½¿ç”¨ flexbox æ¥å®šå¿ƒï¼Œè™½ç„¶æˆ‘çœŸçš„ä¸è®°å¾—ä¸ºä»€ä¹ˆæˆ‘è®¤ä¸ºè¿™æ˜¯ä¸ªå¥½ä¸»æ„ã€‚å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä¸éœ€è¦ flexbox æ¥åšè¿™äº›äº‹æƒ…ã€‚å½“æ—¶åº”è¯¥åšä¸€ä¸ªå¤§è„‘å€¾å€’ï¼Œæ˜¯å§ï¼Ÿ

ä½†æ˜¯çœ‹ä¸€çœ‹æˆ‘çš„åŸå§‹ä»£ç ï¼Œæˆ‘æ„è¯†åˆ°æˆ‘å·²ç»å¯¹é‚£äº›åº”è¯¥å †å çš„å›¾åƒçš„å›¾åƒåŒ…è£…å™¨`div`åº”ç”¨äº†ä¸€ä¸ª`display: flex`ã€‚è¿™ä½¿å¾—å›¾åƒæœ¬èº«æˆä¸ºä¼¸ç¼©å­å›¾åƒï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨å‚ç›´ä¹¦å†™æ¨¡å¼æ—¶ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šæ‰“ä¹±äº† Firefox ä¸­çš„æ¸²æŸ“ğŸ˜©ã€‚

[![Flexbox issue with vertical writing-mode on Firefox](img/42cba5160952cc1f2b3151324ba2653d.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--4PSqtuxJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/ffbug-640.jpg)

å½“ä½¿ç”¨è¿™ç§æ–¹æ³•æ—¶ï¼Œæˆ‘æµ‹è¯•çš„ Chromeã€Edge å’Œ Safari ç‰ˆæœ¬çœ‹èµ·æ¥éƒ½å¾ˆå¥½(å‚è€ƒä¸Šé¢çš„åˆ—è¡¨),å›¾åƒåœ¨å‚ç›´å’Œæ°´å¹³æ–¹å‘ä¸Šéƒ½å±…ä¸­å¯¹é½ï¼Œè¿™å¾ˆå¥½ã€‚ä½†å®ƒä»¬ä¸åœ¨ Firefox ä¸­ï¼Œå°±åƒå­—é¢ä¸Šä¸€æ ·ï¼Œå½“å‚ç›´ä¹¦å†™æ¨¡å¼åˆ‡æ¢æ—¶ï¼Œå›¾åƒåœ¨æˆ‘çš„é¡µé¢ä¸Šä¸å¯è§ã€‚ä¸è¿‡åœ¨æ°´å¹³æ–¹å‘ä¸Šè¿˜æ˜¯ä¸é”™çš„ã€‚

[![Flexbox issue with vertical writing-mode on Firefox](img/d118ec87d00b3ea496ffaab573d10b78.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--I56umJZj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/ffbug2-640.jpg)

æˆ‘å·²ç»å°†åº”è¯¥åšå †å å·¥ä½œçš„å›¾åƒåŒ…è£…åœ¨ä¸€ä¸ªå·²ç»åº”ç”¨äº†`display: flex`çš„`div`ä¸­ï¼Œè¿™åœ¨æŸç§ç¨‹åº¦ä¸Šæ‰“ä¹±äº† Firefox åœ¨å‚ç›´ä¹¦å†™æ¨¡å¼ä¸‹çš„æ¸²æŸ“ã€‚æˆ‘æ€€ç–‘è¿™ç§è¡Œä¸ºä¸ä»¥ä¸‹ Bug æœ‰å…³: [Bug 1189131](https://bugzilla.mozilla.org/show_bug.cgi?id=1189131) ã€ [Bug 1223180](https://bugzilla.mozilla.org/show_bug.cgi?id=1223180) ã€ [Bug 1332555](https://bugzilla.mozilla.org/show_bug.cgi?id=1332555) ã€ [Bug 1318825](https://bugzilla.mozilla.org/show_bug.cgi?id=1318825) å’Œ [Bug 1382867](https://bugzilla.mozilla.org/show_bug.cgi?id=1382867) ã€‚

ä¸æ­¤åŒæ—¶ï¼Œæˆ‘å¯¹å›¾ç‰‡çš„è¿™ç§æ•ˆæœæœ‰ç‚¹å¥½å¥‡ï¼Œè¿™äº›å›¾ç‰‡æ˜¯ flex çš„å­©å­ï¼Œåœ¨ Firefox ä¸Šçš„å‚ç›´ä¹¦å†™æ¨¡å¼ä¸‹æœ‰è¿™ç§æ•ˆæœã€‚è¿™å°±åƒæµè§ˆå™¨åˆšåˆšå»æ²¡æœ‰ğŸ§Ÿâ€â™€ï¸ğŸ™…ğŸ’©ã€‚

[![Flexbox issue with vertical writing-mode on Firefox](img/a0d907140db49a3cdf70f7a0edf0371e.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--2ezi-m0I--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/whoa-640.jpg)

é™¤äº†å‚ç›´ä¹¦å†™æ¨¡å¼ï¼Œä¸ä¹…å‰æˆ‘å’Œ Jen Simmons å°± flexbox åœ¨ä¸åŒæµè§ˆå™¨ä¸Šçš„å®ç°è¿›è¡Œäº†ä¸€æ¬¡å¯¹è¯ï¼Œå¥¹å‘ç°æ‰€æœ‰æµè§ˆå™¨å¯¹ç¼©å°å›¾åƒçš„å¤„ç†æ–¹å¼éƒ½ä¸ä¸€æ ·ã€‚[CSS å·¥ä½œç»„ä»åœ¨è®¨è®ºè¿™ä¸ªé—®é¢˜](https://github.com/w3c/csswg-drafts/issues/1322)ï¼Œæ•¬è¯·å…³æ³¨æœ€æ–°æ¶ˆæ¯ã€‚

è¿™ä¸ªæ”¶ç¼©é—®é¢˜ä¸å›ºæœ‰å¤§å°çš„æ¦‚å¿µæœ‰å…³ï¼Œç‰¹åˆ«æ˜¯å›¾åƒçš„å›ºæœ‰çºµæ¨ªæ¯”ã€‚CSS å·¥ä½œç»„å¯¹æ­¤è¿›è¡Œäº†ç›¸å½“é•¿æ—¶é—´çš„è®¨è®ºï¼Œå› ä¸ºè¿™ä¸æ˜¯ä¸€ä¸ªå°é—®é¢˜ã€‚

ä¸€ä¸ªæœ‰è¶£çš„è§‚å¯Ÿæ˜¯ï¼Œåœ¨ Firefox ä¸Šï¼Œflex å®¹å™¨çš„å®½åº¦é™åˆ¶åœ¨è§†å£çš„å®½åº¦ï¼Œä½†åœ¨å…¶ä»–æµè§ˆå™¨ä¸Šå´ä¸æ˜¯è¿™æ ·ã€‚å½“å®¹å™¨ä¸­å›¾åƒçš„æ€»å®½åº¦è¶…è¿‡è§†çª—å®½åº¦æ—¶ï¼Œåœ¨ Firefox ä¸Šï¼Œå›¾åƒä¼šç¼©å°ä»¥é€‚åº”è§†çª—å®½åº¦ï¼Œä½†åœ¨æ‰€æœ‰å…¶ä»–æµè§ˆå™¨ä¸Šï¼Œå›¾åƒä¼šæº¢å‡ºï¼Œè¿™æ ·å°±ä¼šå‡ºç°æ°´å¹³æ»šåŠ¨ğŸ¤”ã€‚

ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ç¡®ä¿æˆ‘çš„å›¾ç‰‡æœ¬èº«éƒ½ä¸æ˜¯ flex çš„å­©å­ã€‚æ‰€æœ‰çš„å›¾åƒï¼Œæ— è®ºæ˜¯åŒæ‰“è¿˜æ˜¯å•æ‰“ï¼Œéƒ½è¢«åŒ…è£¹åœ¨ä¸€ä¸ªé™„åŠ çš„`div`ä¸­ã€‚`display: flex`å±æ€§è¢«åº”ç”¨åˆ°`figure`å…ƒç´ ä¸Šï¼Œè¿™ä½¿å¾—`figcaption`å’Œå›¾åƒåŒ…è£…å™¨`div`æˆä¸º flex å­å¯¹è±¡ï¼Œè€Œä¸æ˜¯å›¾åƒæœ¬èº«ã€‚

```
.vertical {
  writing-mode: vertical-rl;

  main {
    max-height: 35em;
    margin-top: auto;
    margin-bottom: auto;
  }

  figure {
    flex-direction: column;
    align-items: center;
    margin-left: 1em;
  }

  figcaption {
    max-height: 30em;
    margin-left: 0.5em;
  }

  .img-single {
    max-height: 20em;
  }
}

.horizontal {
  writing-mode: horizontal-tb;

  main {
    max-width: 40em;
    margin-left: auto;
    margin-right: auto;
  }

  figure {
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 1em;
  }

  figcaption {
    max-width: 30em;
    margin-bottom: 0.5em;
  }

  .img-wrapper img {
    vertical-align: middle;
  }

  .img-single {
    max-width: 20em;
  }

  .img-rotate {
    transform: rotate(-90deg);
  }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

checkbox hack å®ç°çš„å·¥ä½œæ–¹å¼å®Œå…¨ç›¸åŒã€‚æˆ‘ä»è¿™ä¸ªç»ƒä¹ ä¸­å¾—åˆ°çš„å¯ç¤ºæ˜¯ï¼Œæµè§ˆå™¨éœ€è¦éå¸¸åŠªåŠ›åœ°è®¡ç®—å…ƒç´ çš„ç»´åº¦ï¼Œå°¤å…¶æ˜¯é‚£äº›å…·æœ‰å†…åœ¨çºµæ¨ªæ¯”çš„å…ƒç´ ã€‚

### ç½‘æ ¼æ€ä¹ˆæ ·ï¼Ÿ

æˆ‘ä»¬å·²ç»ç¦»è¿™ä¸ªå¸ƒå±€çš„è¦æ±‚å¾ˆè¿œäº†ï¼Œæ‰€ä»¥æˆ‘è€ƒè™‘å°è¯•ä½¿ç”¨ç½‘æ ¼æ¥å¯¹é½å›¾åƒã€‚æˆ‘ä»¬å¯ä»¥è¯•ç€æŠŠæ¯ä¸ª`figure`åšæˆä¸€ä¸ªç½‘æ ¼å®¹å™¨ï¼Œä¹Ÿè®¸å¯ä»¥åˆ©ç”¨æœ‰è¶£çš„å±æ€§ï¼Œæ¯”å¦‚`grid-area`å’Œ`fit-content`ï¼Œè®©äº‹æƒ…æ’åˆ—èµ·æ¥ã€‚

ä¸å¹¸çš„æ˜¯ï¼Œå°è¯• 10 åˆ†é’Ÿåï¼Œæˆ‘ä¼¤é€äº†è„‘ç­‹ã€‚Firefox ä¸­çš„ç½‘æ ¼æ£€æŸ¥å™¨å·¥å…·ä¼¼ä¹ä¸æˆ‘é¡µé¢ä¸Šçš„å…ƒç´ ä¸åŒ¹é…ï¼Œä½†å¯èƒ½æ˜¯å› ä¸ºé‚£é‡Œæœ‰å¤ªå¤šçš„ä¸œè¥¿ã€‚

[![Grid inspector tool issue in vertical writing-mode](img/ff6cba18d0c87208e77728e1b9d37e10.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--VkGVFp5n--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.chenhuijing.cimg/posts/vertical-typesetting/gridtool-640.jpg)

æˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ªç®€åŒ–çš„æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿ç”¨å‚ç›´æ¨¡å¼çš„ç½‘æ ¼ï¼Œè¿™å°†æ˜¯ä¸€ä¸ªæ›´ç®€å•çš„æ¼”ç¤ºå’Œå•ç‹¬çš„ä¹¦é¢æŠ¥å‘Š(å¯èƒ½ä¸ç›¸åº”çš„é”™è¯¯æŠ¥å‘Š)ã€‚

## è·å¥–æ–¹æ¡ˆï¼Ÿ

æˆ‘çš„[ç‹¬ç«‹æ¼”ç¤º](https://www.chenhuijing.com/zh-type/)çš„å½“å‰æ´»åŠ¨å®ç°æ˜¯æ²¡æœ‰ flexbox è§£å†³æ–¹æ¡ˆçš„ checkbox hackã€‚æˆ‘ä¿ç•™äº† checkbox hack ç‰ˆæœ¬æ¥è·Ÿè¸ª Edge bugã€‚ä½†æ˜¯ flexbox è§£å†³æ–¹æ¡ˆï¼Œå¦‚æœä½ ä¸ä»‹æ„é¢å¤–çš„åŒ…è£…ï¼Œä¹Ÿå¾ˆå¥½ã€‚Javascript å®ç°çš„æ ‡è®°çœ‹èµ·æ¥ä¹Ÿæ›´å¥½ï¼Œå› ä¸ºæ‚¨å¯ä»¥å°†åˆ‡æ¢åŒ…è£…åœ¨ä¸€ä¸ª`div`ä¸­ã€‚

ä½†æ˜¯åˆ°äº†æœ€åï¼Œæœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è¾¾åˆ°ç›¸åŒçš„æœ€ç»ˆç»“æœã€‚ä»å…¶ä»–åœ°æ–¹å¤åˆ¶ä»£ç æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯å½“æŸäº›åœ°æ–¹å‡ºé”™äº†ï¼Œè€Œä½ åˆä¸çŸ¥é“ä¸ºä»€ä¹ˆæ—¶ï¼Œéº»çƒ¦å°±æ¥äº†ã€‚ä½ ä¸å¿…ä»å¤´å¼€å§‹å†™æ‰€æœ‰çš„ä¸œè¥¿ï¼Œä½†è¦ç¡®ä¿æ²¡æœ‰ä½ æ— æ³•ç ´è¯‘çš„â€œé­”æ³•â€ã€‚

åªæ˜¯è¯´è¯´ğŸ˜ã€‚

## è¿›ä¸€æ­¥é˜…è¯»

*   [åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¸å…è®¸å¯¹åªè¯»å±æ€§èµ‹å€¼](https://devtidbits.com/2016/06/12/assignment-to-read-only-properties-is-not-allowed-in-strict-mode/)
*   [è¶…å¿«é€Ÿ CSS å¼•æ“å†…éƒ¨:é‡å­ CSS(åˆå Stylo)](https://hacks.mozilla.org/2017/08/inside-a-super-fast-css-engine-quantum-css-aka-stylo/)
*   [CSS å†™å…¥æ¨¡å¼ç¬¬ä¸‰çº§](https://www.w3.org/TR/css-writing-modes-3/)
*   [CSS çµæ´»æ¡†å¸ƒå±€æ¨¡å—ä¸€çº§ç¼–è¾‘ç¨¿](https://drafts.csswg.org/css-flexbox/)
*   [CSS å†…åœ¨&å¤–åœ¨è§„æ¨¡æ¨¡å—ç¬¬ 3 çº§](https://www.w3.org/TR/css-sizing-3/)

## é—®é¢˜å’Œ bug åˆ—è¡¨

*   [Firefox Bug 1102175:<body>with writing-mode:vertical-rl ä¸å°†å­å…ƒç´ å‘å³å¯¹é½](https://bugzilla.mozilla.org/show_bug.cgi?id=1102175)
*   Firefox Bug 1189131:å½“ä¹¦å†™æ¨¡å¼ä¸ºå‚ç›´æ—¶ï¼Œflex align-items center ä¼šæ›¿æ¢æ–‡æœ¬-rl
*   [Firefox é”™è¯¯ 1223180: Flex +å‚ç›´ä¹¦å†™æ¨¡å¼:Flex é¡¹ç›®/æ–‡æœ¬æ¶ˆå¤±](https://bugzilla.mozilla.org/show_bug.cgi?id=1223180)
*   [Firefox Bug 1332555:[writing-mode]å‚ç›´å†™å…¥æ¨¡å¼çš„å­å…ƒç´ å¯¼è‡´çˆ¶å…ƒç´ çš„å›ºæœ‰å¤§å°é”™è¯¯ï¼Œå› æ­¤å­å…ƒç´ åœ¨é‡æ’åä¸é€‚åˆ](https://bugzilla.mozilla.org/show_bug.cgi?id=1332555)
*   [Firefox é”™è¯¯ 1318825: [css-flexbox]æ°´å¹³ flex å®¹å™¨ä¸­çš„å‚ç›´ä¹¦å†™æ¨¡å¼ flex é¡¹ç›®å®½åº¦é”™è¯¯](https://bugzilla.mozilla.org/show_bug.cgi?id=1318825)
*   Firefox é”™è¯¯ 1382867:å†™æ¨¡å¼å’Œ flexbox çš„å¸ƒå±€é—®é¢˜
*   [CSSWG é—®é¢˜#1322: [css-flexbox]å…·æœ‰æ”¶ç¼©å›¾åƒçš„éäº’æ“ä½œæ€§](https://github.com/w3c/csswg-drafts/issues/1322)
*   [Chromium é—®é¢˜ 781972:è°ƒæ•´å¤§å°æ—¶å›¾åƒä¸ä¿æŒçºµæ¨ªæ¯”](https://bugs.chromium.org/p/chromium/issues/detail?id=781972)

*æœ€åˆå‘å¸ƒäº[www.chenhuijing.com](https://www.chenhuijing.com/blog/vertical-typesetting-revisited/)2017 å¹´ 12 æœˆ 04 æ—¥ã€‚*

</figcaption>

</figcaption>