# ğŸš€ä»‹ç» Lozad.js: Performant &è½»å‹å»¶è¿ŸåŠ è½½åº“

> åŸæ–‡:[https://dev . to/apoorv _ sa xena/-ç®€ä»‹-lozadjs-performant-light-lazy-loading-library](https://dev.to/apoorv_saxena/-introducing-lozadjs-performant--light-lazy-loading-library)

[![lozad.js lazy loading javascript library](img/56dfd8c4f208d644639f60223a1deaa1.png "lozad.js lazy loading javascript library")T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--ntGPFLxg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/nptus1dcu12hkhdnjghc.png)

> æƒ°æ€§åŠ è½½æ˜¯ä¸€ç§ç¼–ç¨‹å®è·µï¼Œå…¶ä¸­ç»„ä»¶ä»…åœ¨éœ€è¦æ—¶åŠ è½½ã€‚è¿™æå¤§åœ°æé«˜äº†æ€§èƒ½ï¼Œå°¤å…¶æ˜¯å½“åŠ è½½ä¸€ä¸ªç»„ä»¶çš„æ—¶é—´å¾ˆé•¿ï¼Œå¹¶ä¸”ä¸€ä¸ªåº”ç”¨ç¨‹åºä¸­æœ‰å¤šä¸ªè¿™æ ·çš„ç»„ä»¶æ—¶ã€‚

åœ¨ç½‘é¡µã€å›¾ç‰‡/ç¤¾äº¤å·¥å…·/å¹¿å‘Š/è§†é¢‘ç­‰ã€‚ç”±äºå®ƒä»¬çš„å¤§å°æˆ–å®ƒä»¬æ‰€åŠ è½½çš„èµ„æºï¼Œæ˜¯å¯¼è‡´é¡µé¢åŠ è½½æ—¶é—´å¢åŠ çš„ä¸»è¦åŸå› ã€‚å› æ­¤ï¼Œä¸ºäº†å‡å°‘é¡µé¢åŠ è½½æ—¶é—´ï¼Œç»å¯¹æœ‰å¿…è¦åœ¨éœ€è¦çš„æ—¶å€™å»¶è¿ŸåŠ è½½æ‰€æœ‰è¿™äº›ä¸é‡è¦çš„ç»„ä»¶ã€‚

### åˆä¸€ä¸ªæ‡’åŠ è½½ JavaScript åº“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ

ç°æœ‰çš„å»¶è¿ŸåŠ è½½åº“ä¸ scroll äº‹ä»¶æŒ‚é’©ï¼Œæˆ–è€…ä½¿ç”¨å®šæœŸè®¡æ—¶å™¨å¹¶å¯¹éœ€è¦å»¶è¿ŸåŠ è½½çš„å…ƒç´ è°ƒç”¨`getBoundingClientRect()`ã€‚ç„¶è€Œï¼Œè¿™ç§æ–¹æ³•éå¸¸æ…¢ï¼Œå› ä¸ºæ¯æ¬¡è°ƒç”¨`getBoundingClientRect()`éƒ½ä¼šè¿«ä½¿æµè§ˆå™¨é‡æ–°å¸ƒå±€æ•´ä¸ªé¡µé¢ï¼Œå¹¶ä¸”ä¼šç»™ä½ çš„ç½‘ç«™å¸¦æ¥ç›¸å½“å¤§çš„éº»çƒ¦ã€‚

ä½¿å…¶æ›´åŠ é«˜æ•ˆå’Œé«˜æ€§èƒ½æ˜¯[intersect observer](https://developers.google.com/web/updates/2016/04/intersectionobserver)çš„è®¾è®¡ç›®çš„ï¼Œå®ƒå·²ç»åœ¨ Chrome 51 ä¸­å®ç°ã€‚IntersectionObservers è®©æ‚¨çŸ¥é“è¢«è§‚å¯Ÿçš„å…ƒç´ ä½•æ—¶è¿›å…¥æˆ–é€€å‡ºæµè§ˆå™¨çš„è§†å£ã€‚

* * *

### ä»‹ç» **Lozad.js** :

*   lazy ä½¿ç”¨çº¯ JavaScript é«˜æ•ˆåœ°åŠ è½½å…ƒç´ ï¼Œ
*   æ˜¯ä¸€ä¸ªè½»é‡çº§çš„åº“ï¼Œåªæ˜¯ **535 å­—èŠ‚**ç¼©å°äº†& gzippedï¼Œ
*   æ²¡æœ‰ä¾èµ–é¡¹:)
*   ä¹Ÿå…è®¸åŠ¨æ€æ·»åŠ å…ƒç´ çš„å»¶è¿ŸåŠ è½½ã€‚

### å®‰è£…

```
# You can install lozad with npm
$ npm install --save lozad

# Alternatively you can use Yarn.
$ yarn add lozad

# Another option is to use Bower.
$ bower install lozad 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

æˆ–è€…é€šè¿‡ **CDN** åŠ è½½å¹¶åŒ…å«åœ¨é¡µé¢çš„`head`æ ‡ç­¾ä¸­ã€‚

```
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

### ç”¨æ³•

åœ¨ HTML ä¸­ï¼Œå‘å…ƒç´ æ·»åŠ ä¸€ä¸ªæ ‡è¯†ç¬¦(é»˜è®¤çš„é€‰æ‹©å™¨æ ‡è¯†ä¸º`lozad`ç±»):

```
<img class="lozad" data-src="image.png" /> 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä½ ç°åœ¨éœ€è¦åšçš„åªæ˜¯å¦‚ä¸‹å®ä¾‹åŒ– Lozad:

```
// lazy loads elements with default selector as '.lozad'
const observer = lozad();
observer.observe(); 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

* * *

è¯¦æƒ…è¯·æŸ¥çœ‹ Github ä¸Šçš„ [Lozad.js repo](https://github.com/ApoorvSaxena/lozad.js)