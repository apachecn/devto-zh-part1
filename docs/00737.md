# ç”¨ Kotlin ä»ç½‘ç»œå“åº”åˆ°ä»£æ•°æ•°æ®ç±»å‹

> åŸæ–‡:[https://dev . to/danielw/from-network-response-to-ä»£æ•°æ•°æ®ç±»å‹-10co](https://dev.to/danielw/from-network-response-to-algebraic-data-type-10co)

æˆ–è€…ï¼Œæˆ‘ä»è¯•å›¾åœæ­¢å°† HTTP é”™è¯¯ä»£ç ä½œä¸ºå¼‚å¸¸å¤„ç†ä¸­å­¦åˆ°äº†ä»€ä¹ˆã€‚

å‰å‡ å¤©ï¼Œæˆ‘ç»ˆäºæ˜ç™½äº†å‡ ä¸ªæœˆæ¥ä¸€ç›´å›°æ‰°æˆ‘çš„äº‹æƒ…:æˆ‘ä»¬å¦‚ä½•é¿å…ä½¿ç”¨å¼‚å¸¸æ¥å¤„ç† HTTP é”™è¯¯ä»£ç ï¼Ÿæ›´å…·ä½“åœ°è¯´ï¼Œåœ¨å®ƒä»¬è¢«ä½œä¸ºå¼‚å¸¸æŠ›å‡ºä¹‹å‰ï¼Œæˆ‘ä»¬å¦‚ä½•å°†å®ƒä»¬è½¬æ¢æˆä¸åŒçš„ä¸œè¥¿ï¼Ÿä»¥ä¸‹æ˜¯æˆ‘å­¦åˆ°çš„ä¸œè¥¿ã€‚

* * *

å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨ Kotlinï¼Œæ‚¨å¯èƒ½å·²ç»å¬è¯´è¿‡ä»£æ•°æ•°æ®ç±»å‹(ADT)çš„æ¦‚å¿µã€‚
å¦‚æœæ²¡æœ‰ï¼Œè¿˜æœ‰ä¸€ä¸ªå¾ˆé…·çš„[å¸–å­](https://medium.com/car2godevs/kotlin-adt-74472319962a)æ¥è‡ª [Dmitry Zaytsev](https://medium.com/@dmitry.zaicew) å’Œ[å¦ä¸€ä¸ª](http://engineering.pivotal.io/post/algebraic-data-types-in-kotlin/)æ¥è‡ª [Mike Gehard](http://engineering.pivotal.io/authors/mikegehard/) ã€‚

ç®€è€Œè¨€ä¹‹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­éœ€è¦äº†è§£çš„å†…å®¹:
æƒ³æ³•æ˜¯å°†ä¸€å †å¯¹è±¡å’Œæ•°æ®ç±»å°è£…åœ¨ä¸€ä¸ªå¯†å°çš„ç±»ä¸­ï¼Œå®ƒä»¬éƒ½ç»§æ‰¿è‡ªè¿™ä¸ªç±»ã€‚

```
typealias Second = Int

sealed class PowerUp {

    object FireFlower : PowerUp()

    object SuperMushroom : PowerUp()

    data class SuperStar(val duration: Second) : PowerUp()
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç„¶åï¼Œä½ å¯ä»¥éå¸¸æœ‰æ•ˆåœ°å°†å®ƒä»¬ä¸ç§‘ç‰¹æ—çš„`when`è¯­å¥:
ç»“åˆä½¿ç”¨

```
fun Mario.collect(powerUp: PowerUp) { 
    // thanks to the 'return' a non-exhaustive 'when' will result in a compiler error
    return when(powerUp) {
        is FireFlower -> enableFlameThrowing()
        is SuperMushroom -> grow()
        // 'powerUp' is smart cast to 'SuperStar' so we can access duration on it
        is SuperStar -> startGodMode(powerUp.duration) 
    }
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œå¾ˆé…·çš„ä¸€ç‚¹æ˜¯ï¼Œç¼–è¯‘å™¨å¯ä»¥æ¨æ–­å‡ºä¸€ä¸ª *when* è¡¨è¾¾å¼æ˜¯å¦æ˜¯ç©·ä¸¾çš„ï¼Œå› ä¸ºè¢«æ±‚å€¼çš„ç±»å‹æ˜¯ä¸€ä¸ªå¯†å°ç±»ã€‚
å¯†å°ç±»åªèƒ½åœ¨å®ƒä»¬è‡ªå·±çš„`.kt`æ–‡ä»¶ä¸­æ‰©å±•ï¼Œå› æ­¤ç¼–è¯‘å™¨å¯ä»¥ä¿è¯`FireFlower`ã€`SuperMushroom`å’Œ`SuperStar`æ˜¯`powerUp`å˜é‡å”¯ä¸€å¯èƒ½é‡‡ç”¨çš„å€¼ã€‚
å¦‚æœæˆ‘ä»¬åœ¨æ—¶ä½¿ç”¨[è¡¨è¾¾å¼](https://kotlinlang.org/docs/reference/control-flow.html#when-expression)è¯­æ³•è€Œä¸æ˜¯*è¯­å¥è¯­æ³•ï¼Œå³ã€‚`val result = when(..) {}`æˆ–`return when(..) {}`ï¼Œç¼–è¯‘å™¨ä¼šå°†æ­¤è§†ä¸ºé”™è¯¯ï¼Œä¸ç¼–è¯‘æ‚¨çš„ç¨‹åºã€‚*

å½“æ‚¨å‘æ‚¨çš„å¯†å°ç±»æ·»åŠ æ›´å¤šå¯¹è±¡ï¼Œä½†å¿˜è®°å®ç°å¦‚ä½•åœ¨ *when* è¡¨è¾¾å¼ä¸­å¯¹å®ƒä»¬åšå‡ºååº”æ—¶ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚ä½ çš„åº”ç”¨ç¨‹åºä¸ä¼šå´©æºƒæˆ–è€…è¿›å…¥ä¸€ä¸ªæœªå®šä¹‰çš„çŠ¶æ€ï¼Œè€Œæ˜¯ä¼šåœ¨ç¼–è¯‘æ—¶è¢«é€šçŸ¥é”™è¯¯ã€‚

å¦ä¸€ä¸ªå¼ºå¤§çš„åŠŸèƒ½ï¼Œ[æ™ºèƒ½æ–½æ³•](https://kotlinlang.org/docs/reference/typecasts.html#smart-casts)ï¼Œå¯ä»¥åœ¨æœ€åä¸€ä¸ªåˆ†æ”¯ä¸Šçœ‹åˆ°ã€‚è¿™é‡Œï¼Œåˆ†æ”¯å³ä¾§çš„`powerUp`è¢«è‡ªåŠ¨è½¬æ¢ä¸ºåˆ†æ”¯å·¦ä¾§æ­£åœ¨æ£€æŸ¥çš„ç±»å‹ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ SuperStar çš„*æŒç»­æ—¶é—´*å±æ€§ï¼Œè€Œæ— éœ€æ˜¾å¼ç¼–å†™`(powerUp as SuperStar).duration`ã€‚

ç°åœ¨ï¼Œæ­£å¦‚ç§‘æ—Â·å¼—æ— T2 è§£é‡Šçš„é‚£æ ·ï¼Œè¿™ç§ T4 ä»£æ•°æ•°æ®ç»“æ„å¯¹é”™è¯¯å¤„ç†éå¸¸æœ‰ç”¨ï¼Œä¸éœ€è¦å€ŸåŠ©å¼‚å¸¸ã€‚

## ç½‘ç»œè¯·æ±‚çš„é”™è¯¯å¤„ç†

å½“æˆ‘ä»¬å‘å‡ºç½‘ç»œè¯·æ±‚æ—¶ï¼Œæœ‰è®¸å¤šäº‹æƒ…å¯èƒ½å‡ºé”™ï¼Œè®¸å¤šç½‘ç»œåº“å¯¹ 200 ä»¥å¤–çš„ä»»ä½• HTTP å“åº”ä»£ç éƒ½æœ‰å¼‚å¸¸ååº”ã€‚è¿™å¾ˆå¥‡æ€ªï¼Œå› ä¸ºåœ¨å¤§å¤šæ•°åº”ç”¨ç¨‹åºçš„ä¸Šä¸‹æ–‡ä¸­ï¼Œä»£ç  404(æœªæ‰¾åˆ°èµ„æº)ã€401(æœªæˆæƒ)æˆ– 403(ç¦æ­¢)å®é™…ä¸Šå¯¹æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„ä¸šåŠ¡é€»è¾‘æœ‰æ„ä¹‰ï¼Œåº”è¯¥ç›¸åº”åœ°å¤„ç†ä»¥å¢å¼ºç”¨æˆ·ä½“éªŒï¼Œä¾‹å¦‚:

*   é‡å®šå‘è‡³â€œç™»å½• 401â€
*   ä¸º 403 ä¸Šçš„æŸäº›è®¢è´­æœåŠ¡æä¾›é«˜çº§å‡çº§
*   æ˜¾ç¤ºå¯çˆ±çš„ 404 é¡µ

ä¼ ç»Ÿä¸Šï¼Œæˆ‘ä»¬å¿…é¡»æ•æ‰ç½‘ç»œè°ƒç”¨å¯¼è‡´çš„ä»»ä½•å¼‚å¸¸ï¼Œå¹¶å¤„ç†å®ƒä»¬ä»¥å®ç°è¿™äº›æƒ…å†µã€‚è¿™å¯èƒ½ä¼šä½¿æˆ‘ä»¬çš„ç½‘ç»œè°ƒç”¨ä»£ç å˜å¾—æ··ä¹±ï¼Œéš¾ä»¥é€‚åº”ä¸æ–­å˜åŒ–çš„éœ€æ±‚ã€‚

å‡è®¾æ‚¨åœ¨ç¨‹åºçš„è®¸å¤šåœ°æ–¹éƒ½æœ‰ç½‘ç»œè°ƒç”¨ä»£ç ï¼Œå¹¶ä¸”å¿…é¡»æ·»åŠ ä¸€ä¸ªæ–°çš„ HTTP ä»£ç æ¥å“åº”ã€‚ä¾‹å¦‚ï¼Œä½ çš„å›¢é˜Ÿç°åœ¨è¿˜æƒ³åœ¨ 503 ä¸Šæ˜¾ç¤ºä¸€ä¸ªå¯çˆ±çš„*æœåŠ¡ä¸å¯ç”¨çš„*é¡µé¢ã€‚
T3![503 status page of the university of oregon. The title says 'Service is unavailable'. The text below it says 'We are working to clear the ducks and get the service available again. Click the 'Service Status' button for more information. Below it there is a picture of a lot of cartoon rubber ducks sitting on and around a server.](img/b94ab8e4615a4dbf2eb55d7218587a3d.png)T5ã€‘

è¿™å¯èƒ½ä¼šæˆä¸ºä¸€ä¸ªæœ‰è¶£çš„é”™è¯¯æ¥æºï¼Œå°¤å…¶æ˜¯å½“ä¸ç†Ÿæ‚‰ä»£ç åº“çš„æ–°å¼€å‘äººå‘˜è¿›è¡Œæ›´æ”¹æ—¶(ç”šè‡³æ˜¯ 3 ä¸ªæœˆåçš„ä½ )ğŸ˜‰).

ä¹Ÿæœ‰ä¸€äº›äººå¯¹é€šè¿‡å¼‚å¸¸é©±åŠ¨æ§åˆ¶æµæœ‰è‡ªå·±çš„çœ‹æ³•ğŸ‘€ã€‚

* * *

*è¯­å¢ƒè½¬æ¢ã€‚æˆ‘ä»¬ç°åœ¨ä»é©¬é‡Œå¥¥åˆ‡æ¢åˆ°ä¸€ä¸ªç®€å•çš„é»‘å®¢æ–°é—»é˜…è¯»å™¨*

ä½¿ç”¨ä»£æ•°æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ä¸€ä¸ªå¯†å°çš„å“åº”ç±»ä¸­å®šä¹‰ä»»ä½•å¯¹æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæœ‰æ„ä¹‰çš„å“åº”æ¥é¿å…è¿™ç§æƒ…å†µ:

```
sealed class NetworkResult

sealed class Payload : NetworkResult() {

    data class AggregateArticles(val articleIds: List<Long>) : Payload()

    data class SingleArticle(val article: HackerNewsItem): Payload()
}

sealed class HttpError : NetworkResult() {

    object ResourceNotFound : HttpError()

    object ServiceUnavailable : HttpError()

    data class UnknownError(val code: Int, val message: String) : HttpError()
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨æˆ‘ä»¬å¯ä»¥åƒè¿™æ ·åœ¨ç½‘ç»œè°ƒç”¨ç«™ç‚¹ä½¿ç”¨ when è¡¨è¾¾å¼:

```
 fun handleNetworkResult(result: NetworkResult) {
        return when(result) {
            is Payload -> handleResult(result)
            is HttpError -> handleError(result)
        }
    }

    fun handleResult(result: Payload) {
        return when(result) {
            is AggregateArticles -> loadArticleDetails(result.articleIds)
            is SingleArticle -> showArticle(result.article)
        }
    }

    // this would probably live in an injected global error handler
    fun handleError(result: HttpError) {
        return when(result) {
            is ResourceNotFound -> show404Screen()
            is ServiceUnavailable -> show503Screen()
            is UnknownError -> showError("Unknown error ${result.code}: ${result.message}")
        }
    } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å¾ˆé…·ï¼Œå› ä¸ºæ­£å¦‚æˆ‘ä»¬ä¸Šé¢æ‰€å±•ç¤ºçš„ï¼Œä½ ç°åœ¨ä¸èƒ½å¿˜è®°å®ç°ä¸€ä¸ª caseï¼Œå› ä¸ºä½ ä¼šåœ¨`when`è¡¨è¾¾å¼ä¸Šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘å™¨é”™è¯¯ï¼Œåœ¨é‚£é‡Œä½ ä¸¢å¤±äº†ä¸€ä¸ªåˆ†æ”¯ã€‚

å¤ªå¥½äº†ï¼ä½†æ˜¯å·²ç»æœ‰å¾ˆå¤šæ–‡ç« åœ¨è®¨è®ºè¿™äº›äº†ã€‚
æˆ‘ä»¬å®é™…ä¸Šæ˜¯å¦‚ä½•ä»ä¸€ä¸ªç½‘ç»œå±‚å“åº”å¯¹è±¡å¾—åˆ°æˆ‘ä»¬çš„å¯†å°ç±»æˆå‘˜çš„ï¼ï¼Ÿ

## å¦‚ä½•ä¸ç½‘ç»œå±‚é›†æˆ

*ä¸‹é¢çš„ä»£ç å°†æ˜¯ Android ç‰¹æœ‰çš„ï¼Œå¹¶å‡è®¾ Dagger 2 è®¾ç½®ä¸º*

åœ¨ Android å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ *OkHttp* + *æ”¹å‹*æ¥å®šä¹‰æˆ‘ä»¬çš„ç½‘ç»œå±‚ï¼Œä½¿ç”¨ *RxJava* æ¥å¤„ç†ç½‘ç»œè°ƒç”¨çš„å¼‚æ­¥ç‰¹æ€§ã€‚
å…¸å‹çš„æ”¹è£…åˆå§‹åŒ–å¦‚ä¸‹å›¾æ‰€ç¤º

```
 @Provides
    @Singleton
    fun provideRetrofit(): Retrofit {
        val rxCallAdapter = RxJava2CallAdapterFactory.createWithScheduler(Schedulers.io())
        return Retrofit.Builder()
                .baseUrl("https://hacker-news.firebaseio.com/v0/")
                .addConverterFactory(GsonConverterFactory.create(gson))
                .addCallAdapterFactory(rxCallAdapter)
                .build()
    } 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™é‡Œï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªè°ƒç”¨è½¬æ¢å™¨ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå°†æ¯ä¸ªç½‘ç»œè°ƒç”¨åŒ…è£…åœ¨ RxJava å¯è§‚å¯Ÿç±»å‹ä¸­ï¼Œå¹¶æ·»åŠ äº†ä¸€ä¸ªè½¬æ¢å™¨æ¥è‡ªåŠ¨å°†ç½‘ç»œå“åº”çš„ JSON è§£æä¸ºæ•°æ®ç±»å‹ã€‚
ä¸€ä¸ªå…¸å‹çš„ API æ¥å£å®šä¹‰äº†æ”¹è¿›ï¼Œä¸€ä¸ªä½¿ç”¨å®ƒçš„æœåŠ¡çœ‹èµ·æ¥åƒè¿™æ ·:

```
interface NewsAggregateApi {
    @GET("topstories.json")
    fun loadTopStories(): Single<List<Long>>

    @GET("newstories.json")
    fun loadNewStories(): Single<List<Long>>
}

class NewsAggregateService(private val aggregateApi: NewsAggregateApi) {

    fun loadTopStories(): Single<List<Long>> = aggregateApi.loadTopStories()

    fun loadNewStories(): Single<List<Long>> = aggregateApi.loadNewStories()
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¦‚æœè°ƒç”¨`/topstories.json`æ—¶ä¸€åˆ‡é¡ºåˆ©ï¼Œæˆ‘ä»¬çš„ Observable å°†å¾—åˆ°ä¸€ä¸ª`articleId: Long`åˆ—è¡¨ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬é‡åˆ°ä»»ä½•ä¸åœ¨ 200s å†…çš„ HTTP ä»£ç ï¼ŒObservables `onError`æ–¹æ³•å°†è¢«è§¦å‘ã€‚è¿™å¾ˆç³Ÿç³•ï¼Œå› ä¸ºå®ƒå‘ç”Ÿåœ¨æˆ‘ä»¬å¯ä»¥å°†ä»»ä½•ä¸œè¥¿åŒ…è£…åœ¨æˆ‘ä»¬æ¼‚äº®çš„å¯†å°ç±»ç±»å‹ä¸­ä¹‹å‰ã€‚
åœ¨å¯¹[ç¿»æ–°é—®é¢˜#1218](https://github.com/square/retrofit/issues/1218) çš„æ—§å›ç­”ä¸­ï¼Œæ°å…‹Â·æ²ƒé¡¿å¯¹æˆ‘ä»¬çš„é—®é¢˜æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ:
[![Jake Wharton says "There are three ways to construct your observable: Observable<BodyType>, Observable<Response<BodyType>>, or Observable<Result<BodyType>>. For the first version, there's nowhere to hang non-200 response information so it is included in the exception passed to onError. For the latter two, the data is encapsulated in the Response object and can be accessed by calling errorBody()."](img/8498d07aaa5e2ce4cb0a351b56cd6c2a.png)](https://res.cloudinary.com/practicaldev/image/fetch/s--jA3o8t5r--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://thepracticaldev.s3.amazonaws.com/i/1r63jq0lqnl140gyd8q2.png)

å› æ­¤ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ç›¸åº”åœ°ä¿®æ”¹æˆ‘ä»¬çš„ API æ¥å£ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
interface NewsAggregateApi {
    @GET("topstories.json")
    fun loadTopStories(): Single<Response<List<Long>>>

    @GET("newstories.json")
    fun loadNewStories(): Single<Response<List<Long>>>
} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

å¹¶å¯¹æˆ‘ä»¬çš„æœåŠ¡å’Œæˆ‘ä»¬çš„å¯†å°ç±»åšä¸€äº›æ›´æ”¹ï¼Œè¿™æ ·æœåŠ¡çš„è¿”å›ç±»å‹æ€»æ˜¯ä¸€ä¸ª`NetworkResult`ï¼Œæˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬çš„`Response`æ˜ å°„åˆ°ä¸€ä¸ª`NetworkResult`å­ç±»å‹ã€‚

```
class NewsAggregateService(private val aggregateApi: NewsAggregateApi) {

    fun loadTopStories(): Single<NetworkResult> {
        return aggregateApi.loadTopStories()
                .map { it.toAggregateResult() }
    }

    fun loadNewStories(): Single<NetworkResult> {
        return aggregateApi.loadNewStories()
                .map { it.toAggregateResult() }
    }

    private fun Response<List<Long>>.toAggregateResult() =
            if (this.isSuccessful) {
                NetworkResult.fromAggregateResponse(this.body() ?: emptyList())
            } else {
                NetworkResult.fromErrorResponse(this.code(), this.message())
            }
}

sealed class NetworkResult {

    // unmodified code omitted

    companion object {
        fun fromAggregateResponse(payload: List<Long>): NetworkResult {
            return Payload.AggregateArticles(payload)
        }

        fun fromErrorResponse(code: Int, message: String?): NetworkResult {
            return when (code) {
                404 -> HttpError.ResourceNotFound
                503 -> HttpError.ServiceUnavailable
                else -> HttpError.UnknownError(code, message ?: "")
            }
        }
    }

} 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

è¿™å°±æ˜¯å…¨éƒ¨äº†ï¼ç°åœ¨ï¼Œæ¯ä¸ªæœ‰æ•ˆçš„ç½‘ç»œå“åº”éƒ½å°†åŒ…è£…åœ¨æ‚¨çš„ ADT ç±»ä¸­ã€‚å°½ç®¡å¦‚æ­¤ï¼Œè¿˜æ˜¯æœ‰ä¸€äº›è­¦å‘Šã€‚è¿™å°†åªå¤„ç†æˆåŠŸè§£æçš„æœ‰æ•ˆå“åº”ã€‚JSON ååºåˆ—åŒ–æœŸé—´çš„ä»»ä½•é”™è¯¯æˆ–ç½‘ç»œå †æ ˆå¼‚å¸¸(å¦‚è¶…æ—¶å’Œ SSL åè®®å¼‚å¸¸)ä»ç„¶ä¼šè¢«æŠ›å‡ºï¼Œå¹¶ä¸”å¿…é¡»åœ¨å…¶ä»–åœ°æ–¹å¤„ç†ã€‚

ä½†æ˜¯æˆ‘ä»¬ç°åœ¨æœ‰äº†ä¸€ä¸ªå¾ˆå¥½çš„(å¹¶ä¸”å®¹æ˜“æµ‹è¯•çš„ï¼)å¤„ç†å¯¹æˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘æœ‰æ„ä¹‰çš„é 200 æœåŠ¡å™¨å“åº”çš„æ–¹æ³•ã€‚

æ„Ÿè°¢é˜…è¯»:)

é™„:å¦‚æœä½ æƒ³çœ‹æ›´å¤šçš„ä¸Šä¸‹æ–‡ä»£ç æ ·æœ¬ï¼Œè¯·æŸ¥çœ‹è¿™ä¸ªæŠ¥å‘Šã€‚