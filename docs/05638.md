# ç›´æ¥ä» VIM è¯„ä¼°æ‚¨çš„ ruby ä»£ç 

> åŸæ–‡:[https://dev . to/caduribeiro/evaluate-your-ruby-code-directly-from-vim-1 OAG](https://dev.to/caduribeiro/evaluate-your-ruby-code-directly-from-vim-1oag)

[![](img/735bffcad4508c3f673001e4c72cefd9.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--5fdBwRTC--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/476/1%2A-t37W7RSogM604xODOKokw.png)

å½“æˆ‘å†™ä»£ç æ—¶ï¼Œé€šå¸¸æˆ‘æƒ³è¯„ä¼°ä¸€äº›ä»£ç ã€‚æˆ‘ä¹ æƒ¯åšä»¥ä¸‹åŠ¨ä½œ:

*   å°†æˆ‘çš„ä»£ç å¤åˆ¶å¹¶ç²˜è´´åˆ° IRB(æˆ–è€…ç›´æ¥ä»ç»ˆç«¯è¿è¡Œæˆ‘çš„ ruby è„šæœ¬æ–‡ä»¶)ã€‚
*   å½“ä½¿ç”¨ tmux æ—¶ï¼Œç”¨ [vim-tmux-runner](https://github.com/christoomey/vim-tmux-runner) æ’ä»¶å°†æˆ‘çš„ä»£ç ç›´æ¥ä» vim å‘é€åˆ° tmuxã€‚

ç¬¬ä¸€ä¸ªé€‰é¡¹éœ€è¦å¤åˆ¶å’Œç²˜è´´å†…å®¹çš„é¢å¤–å·¥ä½œã€‚æˆ‘æ›´å–œæ¬¢ç¬¬äºŒä¸ªé€‰é¡¹ï¼Œä½†æœ‰æ—¶æˆ‘å¿˜è®°è¿æ¥ VTR é¢æ¿å¹¶å‡ºç°é”™è¯¯ã€‚

ç°åœ¨æˆ‘æ­£åœ¨ä½¿ç”¨[https://github.com/JoshCheek/seeing_is_believing](https://github.com/JoshCheek/seeing_is_believing)ä»¥åŠ[https://github.com/t9md/vim-ruby-xmpfilter](https://github.com/t9md/vim-ruby-xmpfilter)æ’ä»¶

æˆ‘æŠŠæˆ‘çš„ã€‚åŒ…å«ä»¥ä¸‹å†…å®¹çš„ vimrc(æˆ‘ä½¿ç”¨ Plug æ¥ç®¡ç†æˆ‘çš„ä¾èµ–é¡¹):

```
Plug 't9md/vim-ruby-xmpfilter'

" Enable seeing-is-believing mappings only for Ruby
let g:xmpfilter\_cmd = "seeing\_is\_believing"

autocmd FileType ruby nmap \<buffer\> \<F4\> \<Plug\>(seeing\_is\_believing-mark)
autocmd FileType ruby xmap \<buffer\> \<F4\> \<Plug\>(seeing\_is\_believing-mark)
autocmd FileType ruby imap \<buffer\> \<F4\> \<Plug\>(seeing\_is\_believing-mark)

autocmd FileType ruby nmap \<buffer\> \<F6\> \<Plug\>(seeing\_is\_believing-clean)
autocmd FileType ruby xmap \<buffer\> \<F6\> \<Plug\>(seeing\_is\_believing-clean)
autocmd FileType ruby imap \<buffer\> \<F6\> \<Plug\>(seeing\_is\_believing-clean)

autocmd FileType ruby nmap \<buffer\> \<F5\> \<Plug\>(seeing\_is\_believing-run)
autocmd FileType ruby xmap \<buffer\> \<F5\> \<Plug\>(seeing\_is\_believing-run)
autocmd FileType ruby imap \<buffer\> \<F5\> \<Plug\>(seeing\_is\_believing-run) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ç°åœ¨ï¼Œæˆ‘å¯ä»¥ç›´è§‚åœ°é€‰æ‹©æˆ‘çš„ä»£ç ï¼Œä½¿ç”¨ F4 æ¥æ ‡è®°ï¼Œè¿™ä¸€è¡Œå°†è¢«è®¡ç®—ï¼ŒæŒ‰ F5 å¹¶è·å¾—è¯¥ä»£ç çš„ç»“æœã€‚ä¹‹åï¼Œæˆ‘å¯ä»¥å’Œ F6 ä¸€èµ·æ¸…ç†æ‰€æœ‰çš„ç—•è¿¹ã€‚

[![](img/1fe52aa328e0099282bfa1004c4b4ab5.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--h8NtRv21--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://cdn-images-1.medium.com/max/922/1%2A7gjSHyVfzMhsoa038YicQg.gif)

å¹²æ¯ğŸ»

* * *