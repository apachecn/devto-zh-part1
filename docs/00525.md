# ES2015 ä¸­çš„ JavaScript é›†æ˜¯ä»€ä¹ˆï¼Œåº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ

> åŸæ–‡:[https://dev . to/RSS chouwenaar/ä»€ä¹ˆæ˜¯ JavaScript-set-in-es 2015-and-when-you-use-it-127h](https://dev.to/rsschouwenaar/what-is-the-javascript-set-in-es2015-and-when-should-you-use-it-127h)

#### es 2015 è§„èŒƒä¸­å……æ»¡äº†æ–°åŠŸèƒ½ï¼Œè¿™äº›æ–°åŠŸèƒ½å°†æŒç»­å¼•å…¥æ‰€æœ‰æ–°æµè§ˆå™¨ä¸­ã€‚Set ç³»åˆ—æ˜¯å…¶ä¸­ä¸€ä¸ªæ–°äº‹ç‰©ã€‚

[![](img/5a9f7f9cbc1edd709c4490ab656d1bb4.png)T2ã€‘](https://res.cloudinary.com/practicaldev/image/fetch/s--HU5-PXAq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn-images-1.medium.com/max/1000/1%2A1JtGxwOhPIsdkMLgwK7W-g.jpeg)

æˆ‘çš„ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ™®é€šçš„æ•°ç»„ï¼ä½†æˆ‘ä¼šå‘Šè¯‰ä½ ä½ å¯ä»¥åšäº›ä»€ä¹ˆã€‚

### es 2015 è®¾å®šæ˜¯ä»€ä¹ˆï¼Ÿ

ä»€ä¹ˆæ˜¯é›†åˆï¼Œä½ èƒ½ç”¨å®ƒåšä»€ä¹ˆï¼ŸMozilla æ–‡æ¡£å¯¹æ­¤éå¸¸æ¸…æ¥š:

> Set é›†åˆå…è®¸æ‚¨å­˜å‚¨ä»»ä½•ç±»å‹çš„å”¯ä¸€å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼è¿˜æ˜¯å¯¹è±¡å¼•ç”¨ã€‚**æ¥æº:** [**Mozilla Docs**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set)

è¿™ä¸ªç‰¹æ®Šçš„å¯¹è±¡å¯ä»¥åƒæ™®é€šå¯¹è±¡ä¸€æ ·å­˜å‚¨å„ç§å€¼ï¼Œä½†æ˜¯å®ƒä»¬å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œé‡å¤çš„å€¼å°†è¢«è¿‡æ»¤æ‰ã€‚

æ„Ÿè°¢ Addy Osmani çš„æ¨æ–‡ï¼Œæˆ‘å‘ç°å®ƒ Set()ï¼

> ![](img/04df80ae26041ef073b67f5d31f11251.png)![](img/15bdd4e8346d2a40732d0965dbf135e9.png)Addy Osmani@ addyosmani![](img/4d9c44713c216584b3d48ff3455cbb68.png)æç¤º:JavaScript çš„ Array.from()æ¥å—ç¬¬äºŒä¸ªå‚æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªâ€œmapâ€å‡½æ•°ã€‚å¯¹äºè°ƒç”¨æ‚¨åˆ›å»ºçš„æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éå¸¸æœ‰ç”¨ã€‚2018 å¹´ 1 æœˆ 19 æ—¥ä¸Šåˆ 07:30[![Twitter reply action](img/269095962147c28351274afdd5486a48.png)](https://twitter.com/intent/tweet?in_reply_to=954254600193769473)[![Twitter retweet action](img/771160ecf06ae3d4d7a7815c29c819c2.png)](https://twitter.com/intent/retweet?tweet_id=954254600193769473)468[![Twitter like action](img/c077611ab2a5e0b4cd0c826ee7ae1e48.png)](https://twitter.com/intent/like?tweet_id=954254600193769473)1496

ä» JavaScript æ•°ç»„ä¸­è¿‡æ»¤å‡ºé‡å¤çš„å€¼æ€»æ˜¯ä¸€ä»¶éº»çƒ¦çš„äº‹ï¼Œä½ éœ€è¦éå†æ•°ç»„å¹¶è‡ªå·±æ‰¾å‡ºç­”æ¡ˆï¼Œæ‰€ä»¥ Set è®©è¿™å˜å¾—å®¹æ˜“å¤šäº†ã€‚ğŸ˜

### å‘é›†åˆæ·»åŠ æ•°æ®

æœ‰å‡ ç§æ–¹æ³•å¯ä»¥å°†æ•°æ®æ·»åŠ åˆ°é›†åˆä¸­ã€‚

### ä½œä¸ºå‚æ•°ä¼ é€’

è¿™æ˜¯ä¸€ä¸ªå°†æ•°æ®ä½œä¸ºå‚æ•°æ·»åŠ åˆ° Setcollection çš„ç¤ºä¾‹ã€‚

```
const numbersSet = new Set([1,2,3,4,5]);
const stringSet = new Set(['Jan', 'Rick', 'Raymon', 'Tim']);
const objectSet = new Set([{a: 1, b: 2}]);
const arraySet = new Set([['javascript', 'coffeescript'], ['css', 'sass']]); 
```

### é€šè¿‡ Add æ–¹æ³•æ·»åŠ æ•°æ®

å°†æ•°æ®ä¼ é€’åˆ°é›†åˆçš„å¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨ add()æ–¹æ³•ã€‚

```
const newSetObject = new Set();
newSetObject.add('Raymon');
newSetObject.add({a: 1, b: 2});
newSetObject.add(1).add(2).add(3).add(4).add(5)

// Result: Raymon, {a: 1, b: 2}, 1, 2, 3, 4, 5 
```

### ç”¨ has æ–¹æ³•æ£€æŸ¥é›†åˆå†…çš„å€¼

Set é›†åˆæœ‰ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„æ–¹æ³•æ¥æ£€æŸ¥æŸä¸ªå€¼æ˜¯å¦åœ¨å¯¹è±¡å†…éƒ¨ã€‚

```
const numbersSet = new Set([1,2,3,4,5]);
const stringSet = new Set(['Jan', 'Rick', 'Raymon', 'Tim']);
const objectSet = new Set([{a: 1, b: 2}]);
const arraySet = new Set([['javascript', 'coffeescript'], ['css', 'sass']]);

numberSet.has(4); // true
numberSet.has(6); // false
stringSet.has('Raymon'); // true
objectSet.has({a: 1, b: 2}); // false
arraySet.has('css'); // false 
```

has()æ–¹æ³•å¯ä»¥å¾ˆå¥½åœ°å¤„ç†[åŸå§‹å€¼](https://developer.mozilla.org/en-US/docs/Glossary/Primitive)ï¼Œä½†æ˜¯åƒ Object å’Œ Array è¿™æ ·çš„éåŸå§‹å€¼å°±ä¸è¡Œäº†ã€‚

éåŸå§‹å€¼ä¸èƒ½é“¾æ¥åŸå§‹å€¼çš„åŸå› æœ‰ä¸€ä¸ªã€‚åŸå› æ˜¯ has()æ–¹æ³•ä¸ä»…æ¯”è¾ƒå€¼ï¼Œè¿˜æ¯”è¾ƒå®ƒå¯¹= = =æ“ä½œç¬¦çš„å¼•ç”¨ã€‚

å¦‚æœæ‚¨åœ¨å˜é‡ä¸­å¼•ç”¨äº†å¯¹è±¡æˆ–æ•°ç»„ï¼Œå¹¶åœ¨ has()æ–¹æ³•ä¸­ä½¿ç”¨å®ƒï¼Œé‚£ä¹ˆç»“æœå°†ä¸é¢„æœŸçš„ä¸€æ ·ã€‚

```
const exampleObject = {a: 1, b: 2};
const exampleArray1 = ['javascript', 'coffeescript']
const exampleArray2 = ['css', 'sass'];
const objectSet = new Set([exampleObject]);
const arraySet = new Set([exampleArray1, exampleArray2]);

objectSet.has({a: 1, b: 2}); // false
objectSet.has(exampleObject); // true
arraySet.has('css'); // false
arraySet.has(exampleArray1); // true
arraySet.has(exampleArray2); // true 
```

æ‰€ä»¥è¯·è®°ä½ï¼Œåœ¨ Setcollection ä¸Šä½¿ç”¨ has()æ–¹æ³•æ—¶ï¼Œå¼•ç”¨éåŸºå…ƒå€¼æ˜¯å¾ˆé‡è¦çš„ã€‚

### ä»é›†åˆä¸­åˆ é™¤æ•°æ®

å‘é›†åˆä¸­æ·»åŠ æ•°æ®éå¸¸ç®€å•ï¼Œä½†æ˜¯ä»é›†åˆä¸­åˆ é™¤æ•°æ®ä¹ŸåŒæ ·ç®€å•ã€‚

### ç”¨åˆ é™¤çš„æ–¹æ³•åˆ é™¤æ•°æ®

å¦‚æœè¦ç§»é™¤é›†åˆä¸­çš„æŸé¡¹ï¼Œåªéœ€ä½¿ç”¨ remove æ–¹æ³•ã€‚

```
const numbersSetObject = new Set([1,2,3,4,5,6,7,8,9]);
numbersSetObject.has(2); // true
numbersSetObject.delete(2);
numbersSetObject.has(2); // false
console.log(numbersSetObject); // 1,3,4,5,6,7,8,9 
```

### ç”¨æ¸…é™¤çš„æ–¹æ³•æ¸…é™¤æ‰€æœ‰æ•°æ®

ä½†æ˜¯å¦‚æœæ‚¨æƒ³ä»é›†åˆä¸­ç§»é™¤æ‰€æœ‰æ•°æ®ï¼Œè¯·ä½¿ç”¨ clear æ–¹æ³•ã€‚

```
const numbersSetObject = new Set([1,2,3,4,5,6,7,8,9]);
numbersSetObject.has(2); // true
numbersSetObject.clear();
console.log([...numbersSetObject]); // [] 
```

### ç”¨ size å±æ€§æ£€æŸ¥é¡¹ç›®çš„æ•°é‡

ä¸ä½¿ç”¨ length å±æ€§æ£€æŸ¥é¡¹ç›®æ•°é‡çš„æ•°ç»„ä¸€æ ·ï¼ŒSet é›†åˆä¹Ÿå…·æœ‰ç”¨äºè¯¥ç›®çš„çš„ size å±æ€§ã€‚

å¦‚æœæˆ‘ä»¬æ£€æŸ¥å‰ä¸€ä¸ªç¤ºä¾‹ä¸­çš„é›†åˆï¼Œå¤§å°å°†æ˜¯ 7ã€‚

```
newSetObject.size // 7 
```

### è¿‡æ»¤é‡å¤çš„åŸå§‹å€¼

å¦‚æœæˆ‘è¯•å›¾å°†å¤åˆ¶çš„åŸå§‹å€¼æ”¾å…¥é›†åˆä¸­ï¼Œåªæœ‰å”¯ä¸€çš„å€¼ä¼šä¿ç•™ä¸‹æ¥ã€‚

```
const uniqueArray = new Set([1,2,2,2,3,4,5,5,6,7,9,9,8]);
console.log('uniqueArray: ', uniqueArray)
// unique: 1, 2, 3, 4, 5, 6, 7, 9, 8 
```

### è¿‡æ»¤é‡å¤çš„éåŸå§‹å€¼

è¿‡æ»¤æ‰é‡å¤å€¼åï¼ŒéåŸå§‹å€¼ç•¥æœ‰ä¸åŒã€‚æ–‡æ¡£éå¸¸æ¸…æ¥šï¼Œé›†åˆæœ¬èº«ä¸æ˜¯æ¯”è¾ƒå¯¹è±¡ï¼Œè€Œæ˜¯æ¯”è¾ƒå‚è€ƒã€‚

æŠŠå®ƒçœ‹ä½œæ˜¯ç”¨==æ“ä½œç¬¦æ¯”è¾ƒäº‹ç‰©ï¼Œä½†æ˜¯ç”¨= = =æ“ä½œç¬¦å°†æ¯”è¾ƒå¼•ç”¨å’Œå€¼ã€‚

å¦‚æœæˆ‘ä»¬è¯•ç€æŠŠä¸¤ä¸ªç›¸åŒçš„ç‰©ä½“ï¼Œç”¨ä¸åŒçš„å‚ç…§ç‰©æ”¾åœ¨ä¸€èµ·ï¼Œé‚£å°±ä¸ä¼šæœ‰é—®é¢˜ã€‚

```
const objectSet = new Set([{a: 1, b: 2}, {a: 1, b: 2}]);
console.log('objectSet: ', objectSet);
// objectSet: {a: 1, b: 2}, {a: 1, b: 2}; 
```

ä½†æ˜¯å½“æˆ‘ä»¬æ”¾å…¥ç›¸åŒå‚è€ƒçš„ç›¸ç­‰ç‰©ä½“æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ

```
const demoObject = {a: 1, b: 2};
const objectSet = new Set([demoObject, demoObject]);
console.log('objectSet: ', objectSet);
// objectSet: {a: 1, b: 2}; 
```

å¸Œæœ›æ‚¨çŒœåˆ° objectSet åªåŒ…å« 1 ä¸ª demoObjectã€‚å®ƒæ¸…é™¤é‡å¤çš„ğŸ˜

### å¾ªç¯ç»“æŸä¸€ç»„

é›†åˆçš„å¥½å¤„æ˜¯ï¼Œä½ å¯ä»¥åœ¨é›†åˆä¸­å¾ªç¯ï¼

åŒ»ç”Ÿå‘Šè¯‰æˆ‘ä»¬æ›´å¤šå…³äºè¿™ä¸ªåœºæ™¯çš„ä¿¡æ¯:

> é›†åˆå¯¹è±¡æ˜¯å€¼çš„é›†åˆã€‚æ‚¨å¯ä»¥æŒ‰æ’å…¥é¡ºåºå¾ªç¯è®¿é—®é›†åˆä¸­çš„å…ƒç´ ã€‚**æ¥æº:** [**Mozilla Docs**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set)

è¦å¯¹é›†åˆé›†åˆè¿›è¡Œå¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ for-of å¾ªç¯å’Œé™„åŠ åˆ°é›†åˆçš„ forEach æ–¹æ³•ã€‚

### ç”¨ forEach æ–¹æ³•å¾ªç¯

ä½¿ç”¨ Set.forEach()å¯ä»¥éå† Setcollection ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚

```
const objectSet = new Set([{a: 1, b: 2}, {a: 1, b: 2}]);
objectSet.forEach(object => {
    console.log('Object: ', object);
})

// result:  
// Object: {a: 1, b: 2}
// Object: {a: 1, b: 2} 
```

### å¾ªç¯é‡‡ç”¨ for-of å¾ªç¯æ³•

ä½¿ç”¨ for-of å¾ªç¯ï¼Œæˆ‘ä»¬æœ‰ä¸€äº›æ–¹æ³•æ¥å¾ªç¯é›†åˆä¸­çš„æ‰€æœ‰é¡¹ç›®ã€‚

*   æ¡ç›®()
*   æŒ‰é”®()
*   å€¼()

```
const objectSet = new Set([{a: 1, b: 2}, {a: 1, b: 2}]);
for (let [key, value] of objectSet.entries()) {
   console.log(key);
}

// {a: 1, b: 2}
// {a: 1, b: 2} 
```

å”¯ä¸€å¥‡æ€ªçš„æ˜¯ï¼Œæ¡ç›®ã€é”®å’Œå€¼æ–¹æ³•åœ¨é›†åˆä¸­è¿”å›å®Œå…¨ç›¸åŒçš„ä¸œè¥¿ã€‚å¯èƒ½æ˜¯å› ä¸º Set å’Œ Map API æœ‰å¾ˆå¤šå…±åŒç‚¹å§ã€‚

### é›†åˆä¸åœ°å›¾çš„åŒºåˆ«

æ˜ å°„å’Œé›†åˆçš„æœ€å¤§åŒºåˆ«æ˜¯é›†åˆçœ‹èµ·æ¥éå¸¸åƒæ•°ç»„ï¼Œè€Œæ˜ å°„çœ‹èµ·æ¥æ›´åƒä¸€ä¸ªå¯¹è±¡ã€‚

å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼å¦‚æœä½ æœ‰é—®é¢˜ï¼Œè¯·åœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ã€‚

*ç”± Raymon Schouwenaar æ’°å†™äºï¼ŒåŸæ–‡å‘å¸ƒäº*[*raymonschouwenaar . nl*](https://raymonschouwenaar.nl/what-is-set-javascript-es2015-es6-when-use-it/)