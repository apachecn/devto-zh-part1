# Python ä¸­çš„å¤šçº¿ç¨‹ä¸å¤šå¤„ç†ğŸ

> åŸæ–‡:[https://dev . to/nbosco/multi threading-vs-multi processing-in-python-63j](https://dev.to/nbosco/multithreading-vs-multiprocessing-in-python--63j)

tldr

Python çº¿ç¨‹æ¨¡å—ä½¿ç”¨çº¿ç¨‹è€Œä¸æ˜¯è¿›ç¨‹ã€‚çº¿ç¨‹å”¯ä¸€åœ°è¿è¡Œåœ¨åŒä¸€ä¸ªå”¯ä¸€çš„å†…å­˜å †ä¸­ã€‚è€Œè¿›ç¨‹è¿è¡Œåœ¨å•ç‹¬çš„å†…å­˜å †ä¸­ã€‚è¿™ä½¿å¾—ä¸æµç¨‹å’Œå¯¹è±¡å®ä¾‹å…±äº«ä¿¡æ¯å˜å¾—æ›´åŠ å›°éš¾ã€‚å› ä¸ºçº¿ç¨‹ä½¿ç”¨åŒä¸€ä¸ªå†…å­˜å †ï¼Œæ‰€ä»¥å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥å†™å…¥å†…å­˜å †ä¸­çš„åŒä¸€ä¸ªä½ç½®ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ CPython ä¸­çš„å…¨å±€è§£é‡Šå™¨é”(GIL)è¢«åˆ›å»ºä¸ºäº’æ–¥é”ä»¥é˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿã€‚

ä»€ä¹ˆæ˜¯å¤šçº¿ç¨‹ï¼Ÿ

å¤šçº¿ç¨‹åº“æ˜¯è½»é‡çº§çš„ï¼Œå…±äº«å†…å­˜ï¼Œè´Ÿè´£å“åº”ç”¨æˆ·ç•Œé¢ï¼Œå¹¶å¾ˆå¥½åœ°ç”¨äº I/O ç»‘å®šçš„åº”ç”¨ç¨‹åºã€‚ç„¶è€Œï¼Œè¯¥æ¨¡å—æ˜¯ä¸å¯æ€æ­»çš„ï¼Œå¹¶ä¸”å— Python ä¸­çš„ GIL
çº¿ç¨‹åº“çš„çº¦æŸ
å¤šä¸ªçº¿ç¨‹ç”Ÿæ´»åœ¨åŒä¸€ä¸ªç©ºé—´ä¸­çš„åŒä¸€ä¸ªè¿›ç¨‹ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹å°†æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡ï¼Œæ‹¥æœ‰è‡ªå·±çš„ä»£ç ã€è‡ªå·±çš„å †æ ˆå†…å­˜ã€æŒ‡ä»¤æŒ‡é’ˆå’Œå…±äº«å †å†…å­˜ã€‚å¦‚æœä¸€ä¸ªçº¿ç¨‹æœ‰å†…å­˜æ³„æ¼ï¼Œå®ƒä¼šæŸåå…¶ä»–çº¿ç¨‹å’Œçˆ¶è¿›ç¨‹ã€‚

```
import threading

def calc_square(number):
    print('Square': , number * number)
def calc_quad():
    print('Quad': , number * number * number * number)
if __name__ == "__main__":
    number = 7
    thread1 = threading.Thread(target=calc_square, args=(number,))
    thread2 = threading.Thread(target=calc_quad, args=(number,))
    # Will execute both in parallel
    thread1.start()
    thread2.start()
    # Joins threads back to the parent process, which is this
    # program
    thread1.join()
    thread2.join()

# This program reduces the time of execution by running tasks in parallel 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä»€ä¹ˆæ˜¯å¤šé‡å¤„ç†ï¼Ÿ

å¤šå¤„ç†åº“ä½¿ç”¨ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€å¤šä¸ª CPU å†…æ ¸ã€ç»•è¿‡ CPython ä¸­çš„ GIL é™åˆ¶ã€å­è¿›ç¨‹æ˜¯å¯æ€æ­»çš„(ä¾‹å¦‚ç¨‹åºä¸­çš„å‡½æ•°è°ƒç”¨)å¹¶ä¸”æ›´æ˜“äºä½¿ç”¨ã€‚è¯¥æ¨¡å—çš„ä¸€äº›è­¦å‘Šæ˜¯å†…å­˜å ç”¨æ›´å¤§ï¼ŒIPC æ›´å¤æ‚ï¼Œå¼€é”€æ›´å¤§ã€‚
ç­¾å‡º Python æ–‡æ¡£ä¸­çš„å¤šå¤„ç†åº“

```
import multiprocessing

def calc_square(number):
    print('Square': , number * number)
    result = number * number
    print(result)
def calc_quad():
    print('Quad': , number * number * number * number)
if __name__ == "__main__":
    number = 7
    result = None
    p1 = multiprocessing.Process(target=calc_square, args=(number,))
    p2 = multiprocessing.Process(target=calc_quad, args=(number,))
    p1.start()
    p2.start()
    p1.join()
    p2.join()

    # Wont print because processes run using their own memory location                     
    print(result) 
```

<svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title></svg> <svg width="20px" height="20px" viewBox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title></svg>

ä¸€ä¸ªç»ƒä¹ ï¼Œæ‰§è¡Œè¿™äº›ç¨‹åºå¹¶æµ‹é‡çº¿ç¨‹ä¹‹é—´ã€è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹é—´çš„å¢é‡ï¼Œç›¸å¯¹äºä»ä¸ä½¿ç”¨ä»»ä½•ä¸€ä¸ªåº“ã€‚

è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æŠ€æœ¯åšå®¢ï¼Œå¦‚æœä½ è§‰å¾—è¯»èµ·æ¥æœ‰è¶£ï¼Œè¯·å‘Šè¯‰æˆ‘ã€‚

åŸå¸–åœ¨æ­¤:[https://medium . com/@ nbosco/multi threading-vs-multi processing-in-python-c 7 DC 88 b 50 b 5b](https://medium.com/@nbosco/multithreading-vs-multiprocessing-in-python-c7dc88b50b5b)